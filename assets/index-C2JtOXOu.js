var be=Object.defineProperty;var we=(R,O,r)=>O in R?be(R,O,{enumerable:!0,configurable:!0,writable:!0,value:r}):R[O]=r;var Wt=(R,O,r)=>(we(R,typeof O!="symbol"?O+"":O,r),r);(function(){const O=document.createElement("link").relList;if(O&&O.supports&&O.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))k(d);new MutationObserver(d=>{for(const a of d)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&k(u)}).observe(document,{childList:!0,subtree:!0});function r(d){const a={};return d.integrity&&(a.integrity=d.integrity),d.referrerPolicy&&(a.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?a.credentials="include":d.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function k(d){if(d.ep)return;d.ep=!0;const a=r(d);fetch(d.href,a)}})();function vt(){}function oe(R){return R()}function Qt(){return Object.create(null)}function Lt(R){R.forEach(oe)}function ue(R){return typeof R=="function"}function Ht(R,O){return R!=R?O==O:R!==O||R&&typeof R=="object"||typeof R=="function"}function ke(R){return Object.keys(R).length===0}function wt(R,O){R.appendChild(O)}function xt(R,O,r){R.insertBefore(O,r||null)}function kt(R){R.parentNode&&R.parentNode.removeChild(R)}function xe(R,O){for(let r=0;r<R.length;r+=1)R[r]&&R[r].d(O)}function gt(R){return document.createElement(R)}function Rt(R){return document.createTextNode(R)}function Ut(){return Rt(" ")}function _t(R,O,r){r==null?R.removeAttribute(O):R.getAttribute(O)!==r&&R.setAttribute(O,r)}function Ee(R){return Array.from(R.childNodes)}function Kt(R,O){O=""+O,R.data!==O&&(R.data=O)}let Ft;function Bt(R){Ft=R}function Ce(){if(!Ft)throw new Error("Function called outside component initialization");return Ft}function Se(R){Ce().$$.on_mount.push(R)}const At=[],te=[];let Ot=[];const ee=[],ze=Promise.resolve();let Zt=!1;function Ae(){Zt||(Zt=!0,ze.then(le))}function $t(R){Ot.push(R)}const Mt=new Set;let zt=0;function le(){if(zt!==0)return;const R=Ft;do{try{for(;zt<At.length;){const O=At[zt];zt++,Bt(O),Oe(O.$$)}}catch(O){throw At.length=0,zt=0,O}for(Bt(null),At.length=0,zt=0;te.length;)te.pop()();for(let O=0;O<Ot.length;O+=1){const r=Ot[O];Mt.has(r)||(Mt.add(r),r())}Ot.length=0}while(At.length);for(;ee.length;)ee.pop()();Zt=!1,Mt.clear(),Bt(R)}function Oe(R){if(R.fragment!==null){R.update(),Lt(R.before_update);const O=R.dirty;R.dirty=[-1],R.fragment&&R.fragment.p(R.ctx,O),R.after_update.forEach($t)}}function Ie(R){const O=[],r=[];Ot.forEach(k=>R.indexOf(k)===-1?O.push(k):r.push(k)),r.forEach(k=>k()),Ot=O}const jt=new Set;let Et;function he(){Et={r:0,c:[],p:Et}}function fe(){Et.r||Lt(Et.c),Et=Et.p}function Ct(R,O){R&&R.i&&(jt.delete(R),R.i(O))}function It(R,O,r,k){if(R&&R.o){if(jt.has(R))return;jt.add(R),Et.c.push(()=>{jt.delete(R),k&&(r&&R.d(1),k())}),R.o(O)}else k&&k()}function re(R){return(R==null?void 0:R.length)!==void 0?R:Array.from(R)}function ce(R){R&&R.c()}function qt(R,O,r){const{fragment:k,after_update:d}=R.$$;k&&k.m(O,r),$t(()=>{const a=R.$$.on_mount.map(oe).filter(ue);R.$$.on_destroy?R.$$.on_destroy.push(...a):Lt(a),R.$$.on_mount=[]}),d.forEach($t)}function Yt(R,O){const r=R.$$;r.fragment!==null&&(Ie(r.after_update),Lt(r.on_destroy),r.fragment&&r.fragment.d(O),r.on_destroy=r.fragment=null,r.ctx=[])}function Re(R,O){R.$$.dirty[0]===-1&&(At.push(R),Ae(),R.$$.dirty.fill(0)),R.$$.dirty[O/31|0]|=1<<O%31}function Gt(R,O,r,k,d,a,u=null,i=[-1]){const n=Ft;Bt(R);const g=R.$$={fragment:null,ctx:[],props:a,update:vt,not_equal:d,bound:Qt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(O.context||(n?n.$$.context:[])),callbacks:Qt(),dirty:i,skip_bound:!1,root:O.target||n.$$.root};u&&u(g.root);let x=!1;if(g.ctx=r?r(R,O.props||{},(v,w,...o)=>{const y=o.length?o[0]:w;return g.ctx&&d(g.ctx[v],g.ctx[v]=y)&&(!g.skip_bound&&g.bound[v]&&g.bound[v](y),x&&Re(R,v)),w}):[],g.update(),x=!0,Lt(g.before_update),g.fragment=k?k(g.ctx):!1,O.target){if(O.hydrate){const v=Ee(O.target);g.fragment&&g.fragment.l(v),v.forEach(kt)}else g.fragment&&g.fragment.c();O.intro&&Ct(R.$$.fragment),qt(R,O.target,O.anchor),le()}Bt(n)}class Xt{constructor(){Wt(this,"$$");Wt(this,"$$set")}$destroy(){Yt(this,1),this.$destroy=vt}$on(O,r){if(!ue(r))return vt;const k=this.$$.callbacks[O]||(this.$$.callbacks[O]=[]);return k.push(r),()=>{const d=k.indexOf(r);d!==-1&&k.splice(d,1)}}$set(O){this.$$set&&!ke(O)&&(this.$$.skip_bound=!0,this.$$set(O),this.$$.skip_bound=!1)}}const Te="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Te);function ne(R,O,r){const k=R.slice();return k[2]=O[r],k}function ie(R){let O,r,k,d,a,u,i,n,g,x,v,w,o,y=re(R[0].years),s=[];for(let c=0;c<y.length;c+=1)s[c]=ae(ne(R,y,c));return{c(){O=gt("div"),r=gt("a"),r.innerHTML='<div class="arrow-down"></div>',k=Ut(),d=gt("div"),a=gt("div"),u=Ut(),i=gt("div"),n=gt("div"),g=gt("a"),x=Rt("All time"),w=Ut();for(let c=0;c<s.length;c+=1)s[c].c();_t(r,"href","#"),_t(r,"class","popupButton"),_t(r,"data-show","popupYear"),_t(a,"class","arrow-up"),_t(g,"href",v="/"+R[0].username),_t(i,"class","listaAnni"),_t(d,"id","popupYear"),_t(d,"class","popupYear hide"),_t(O,"class",o="popupYearContainer "+(R[1]!==""?"popupYear2Container":""))},m(c,h){xt(c,O,h),wt(O,r),wt(O,k),wt(O,d),wt(d,a),wt(d,u),wt(d,i),wt(i,n),wt(n,g),wt(g,x),wt(n,w);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(n,null)},p(c,h){if(h&1&&v!==(v="/"+c[0].username)&&_t(g,"href",v),h&1){y=re(c[0].years);let m;for(m=0;m<y.length;m+=1){const C=ne(c,y,m);s[m]?s[m].p(C,h):(s[m]=ae(C),s[m].c(),s[m].m(n,null))}for(;m<s.length;m+=1)s[m].d(1);s.length=y.length}h&2&&o!==(o="popupYearContainer "+(c[1]!==""?"popupYear2Container":""))&&_t(O,"class",o)},d(c){c&&kt(O),xe(s,c)}}}function se(R){let O;return{c(){O=Rt("...")},m(r,k){xt(r,O,k)},d(r){r&&kt(O)}}}function ae(R){let O,r=R[2]+"",k,d=R[2]===new Date().getFullYear(),a,u=d&&se();return{c(){O=gt("a"),k=Rt(r),u&&u.c(),_t(O,"href",a="/"+R[0].username+"/"+R[2])},m(i,n){xt(i,O,n),wt(O,k),u&&u.m(O,null)},p(i,n){n&1&&r!==(r=i[2]+"")&&Kt(k,r),n&1&&(d=i[2]===new Date().getFullYear()),d?u||(u=se(),u.c(),u.m(O,null)):u&&(u.d(1),u=null),n&1&&a!==(a="/"+i[0].username+"/"+i[2])&&_t(O,"href",a)},d(i){i&&kt(O),u&&u.d()}}}function De(R){let O,r="years"in R[0]&&ie(R);return{c(){O=gt("div"),r&&r.c(),_t(O,"id","content"),_t(O,"class","content")},m(k,d){xt(k,O,d),r&&r.m(O,null)},p(k,[d]){"years"in k[0]?r?r.p(k,d):(r=ie(k),r.c(),r.m(O,null)):r&&(r.d(1),r=null)},i:vt,o:vt,d(k){k&&kt(O),r&&r.d()}}}function Be(R,O,r){let{data:k}=O,{year:d}=O;return R.$$set=a=>{"data"in a&&r(0,k=a.data),"year"in a&&r(1,d=a.year)},[k,d]}class de extends Xt{constructor(O){super(),Gt(this,O,Be,De,Ht,{data:0,year:1})}}function Fe(R){let O;return{c(){O=gt("p"),O.textContent="Loading"},m(r,k){xt(r,O,k)},p:vt,i:vt,o:vt,d(r){r&&kt(O)}}}function Le(R){let O,r;return O=new de({props:{data:R[0]}}),{c(){ce(O.$$.fragment)},m(k,d){qt(O,k,d),r=!0},p(k,d){const a={};d&1&&(a.data=k[0]),O.$set(a)},i(k){r||(Ct(O.$$.fragment,k),r=!0)},o(k){It(O.$$.fragment,k),r=!1},d(k){Yt(O,k)}}}function Ne(R){let O,r=R[0].message+"",k;return{c(){O=gt("p"),k=Rt(r)},m(d,a){xt(d,O,a),wt(O,k)},p(d,a){a&1&&r!==(r=d[0].message+"")&&Kt(k,r)},i:vt,o:vt,d(d){d&&kt(O)}}}function Pe(R){let O,r,k,d;const a=[Ne,Le,Fe],u=[];function i(n,g){return n[0].message!==void 0?0:n[0].id!==void 0?1:2}return r=i(R),k=u[r]=a[r](R),{c(){O=gt("main"),k.c()},m(n,g){xt(n,O,g),u[r].m(O,null),d=!0},p(n,[g]){let x=r;r=i(n),r===x?u[r].p(n,g):(he(),It(u[x],1,1,()=>{u[x]=null}),fe(),k=u[r],k?k.p(n,g):(k=u[r]=a[r](n),k.c()),Ct(k,1),k.m(O,null))},i(n){d||(Ct(k),d=!0)},o(n){It(k),d=!1},d(n){n&&kt(O),u[r].d()}}}function Ue(R,O,r){let k={};return k.message="Under construction...",[k]}class je extends Xt{constructor(O){super(),Gt(this,O,Ue,Pe,Ht,{})}}var Dt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pe(R){return R&&R.__esModule&&Object.prototype.hasOwnProperty.call(R,"default")?R.default:R}function Pt(R){throw new Error('Could not dynamically require "'+R+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var me={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(R,O){(function(r){R.exports=r()})(function(){return function r(k,d,a){function u(g,x){if(!d[g]){if(!k[g]){var v=typeof Pt=="function"&&Pt;if(!x&&v)return v(g,!0);if(i)return i(g,!0);var w=new Error("Cannot find module '"+g+"'");throw w.code="MODULE_NOT_FOUND",w}var o=d[g]={exports:{}};k[g][0].call(o.exports,function(y){var s=k[g][1][y];return u(s||y)},o,o.exports,r,k,d,a)}return d[g].exports}for(var i=typeof Pt=="function"&&Pt,n=0;n<a.length;n++)u(a[n]);return u}({1:[function(r,k,d){var a=r("./utils"),u=r("./support"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";d.encode=function(n){for(var g,x,v,w,o,y,s,c=[],h=0,m=n.length,C=m,D=a.getTypeOf(n)!=="string";h<n.length;)C=m-h,v=D?(g=n[h++],x=h<m?n[h++]:0,h<m?n[h++]:0):(g=n.charCodeAt(h++),x=h<m?n.charCodeAt(h++):0,h<m?n.charCodeAt(h++):0),w=g>>2,o=(3&g)<<4|x>>4,y=1<C?(15&x)<<2|v>>6:64,s=2<C?63&v:64,c.push(i.charAt(w)+i.charAt(o)+i.charAt(y)+i.charAt(s));return c.join("")},d.decode=function(n){var g,x,v,w,o,y,s=0,c=0,h="data:";if(n.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var m,C=3*(n=n.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(n.charAt(n.length-1)===i.charAt(64)&&C--,n.charAt(n.length-2)===i.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(m=u.uint8array?new Uint8Array(0|C):new Array(0|C);s<n.length;)g=i.indexOf(n.charAt(s++))<<2|(w=i.indexOf(n.charAt(s++)))>>4,x=(15&w)<<4|(o=i.indexOf(n.charAt(s++)))>>2,v=(3&o)<<6|(y=i.indexOf(n.charAt(s++))),m[c++]=g,o!==64&&(m[c++]=x),y!==64&&(m[c++]=v);return m}},{"./support":30,"./utils":32}],2:[function(r,k,d){var a=r("./external"),u=r("./stream/DataWorker"),i=r("./stream/Crc32Probe"),n=r("./stream/DataLengthProbe");function g(x,v,w,o,y){this.compressedSize=x,this.uncompressedSize=v,this.crc32=w,this.compression=o,this.compressedContent=y}g.prototype={getContentWorker:function(){var x=new u(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new n("data_length")),v=this;return x.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),x},getCompressedWorker:function(){return new u(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(x,v,w){return x.pipe(new i).pipe(new n("uncompressedSize")).pipe(v.compressWorker(w)).pipe(new n("compressedSize")).withStreamInfo("compression",v)},k.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,k,d){var a=r("./stream/GenericWorker");d.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},d.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,k,d){var a=r("./utils"),u=function(){for(var i,n=[],g=0;g<256;g++){i=g;for(var x=0;x<8;x++)i=1&i?3988292384^i>>>1:i>>>1;n[g]=i}return n}();k.exports=function(i,n){return i!==void 0&&i.length?a.getTypeOf(i)!=="string"?function(g,x,v,w){var o=u,y=w+v;g^=-1;for(var s=w;s<y;s++)g=g>>>8^o[255&(g^x[s])];return-1^g}(0|n,i,i.length,0):function(g,x,v,w){var o=u,y=w+v;g^=-1;for(var s=w;s<y;s++)g=g>>>8^o[255&(g^x.charCodeAt(s))];return-1^g}(0|n,i,i.length,0):0}},{"./utils":32}],5:[function(r,k,d){d.base64=!1,d.binary=!1,d.dir=!1,d.createFolders=!0,d.date=null,d.compression=null,d.compressionOptions=null,d.comment=null,d.unixPermissions=null,d.dosPermissions=null},{}],6:[function(r,k,d){var a=null;a=typeof Promise<"u"?Promise:r("lie"),k.exports={Promise:a}},{lie:37}],7:[function(r,k,d){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",u=r("pako"),i=r("./utils"),n=r("./stream/GenericWorker"),g=a?"uint8array":"array";function x(v,w){n.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=w,this.meta={}}d.magic="\b\0",i.inherits(x,n),x.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(i.transformTo(g,v.data),!1)},x.prototype.flush=function(){n.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},x.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this._pako=null},x.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(w){v.push({data:w,meta:v.meta})}},d.compressWorker=function(v){return new x("Deflate",v)},d.uncompressWorker=function(){return new x("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,k,d){function a(o,y){var s,c="";for(s=0;s<y;s++)c+=String.fromCharCode(255&o),o>>>=8;return c}function u(o,y,s,c,h,m){var C,D,I=o.file,W=o.compression,L=m!==g.utf8encode,b=i.transformTo("string",m(I.name)),l=i.transformTo("string",g.utf8encode(I.name)),A=I.comment,H=i.transformTo("string",m(A)),p=i.transformTo("string",g.utf8encode(A)),T=l.length!==I.name.length,e=p.length!==A.length,j="",V="",N="",Q=I.dir,P=I.date,et={crc32:0,compressedSize:0,uncompressedSize:0};y&&!s||(et.crc32=o.crc32,et.compressedSize=o.compressedSize,et.uncompressedSize=o.uncompressedSize);var F=0;y&&(F|=8),L||!T&&!e||(F|=2048);var E=0,X=0;Q&&(E|=16),h==="UNIX"?(X=798,E|=function(q,at){var lt=q;return q||(lt=at?16893:33204),(65535&lt)<<16}(I.unixPermissions,Q)):(X=20,E|=function(q){return 63&(q||0)}(I.dosPermissions)),C=P.getUTCHours(),C<<=6,C|=P.getUTCMinutes(),C<<=5,C|=P.getUTCSeconds()/2,D=P.getUTCFullYear()-1980,D<<=4,D|=P.getUTCMonth()+1,D<<=5,D|=P.getUTCDate(),T&&(V=a(1,1)+a(x(b),4)+l,j+="up"+a(V.length,2)+V),e&&(N=a(1,1)+a(x(H),4)+p,j+="uc"+a(N.length,2)+N);var Y="";return Y+=`
\0`,Y+=a(F,2),Y+=W.magic,Y+=a(C,2),Y+=a(D,2),Y+=a(et.crc32,4),Y+=a(et.compressedSize,4),Y+=a(et.uncompressedSize,4),Y+=a(b.length,2),Y+=a(j.length,2),{fileRecord:v.LOCAL_FILE_HEADER+Y+b+j,dirRecord:v.CENTRAL_FILE_HEADER+a(X,2)+Y+a(H.length,2)+"\0\0\0\0"+a(E,4)+a(c,4)+b+j+H}}var i=r("../utils"),n=r("../stream/GenericWorker"),g=r("../utf8"),x=r("../crc32"),v=r("../signature");function w(o,y,s,c){n.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=s,this.encodeFileName=c,this.streamFiles=o,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(w,n),w.prototype.push=function(o){var y=o.meta.percent||0,s=this.entriesCount,c=this._sources.length;this.accumulate?this.contentBuffer.push(o):(this.bytesWritten+=o.data.length,n.prototype.push.call(this,{data:o.data,meta:{currentFile:this.currentFile,percent:s?(y+100*(s-c-1))/s:100}}))},w.prototype.openedSource=function(o){this.currentSourceOffset=this.bytesWritten,this.currentFile=o.file.name;var y=this.streamFiles&&!o.file.dir;if(y){var s=u(o,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:s.fileRecord,meta:{percent:0}})}else this.accumulate=!0},w.prototype.closedSource=function(o){this.accumulate=!1;var y=this.streamFiles&&!o.file.dir,s=u(o,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(s.dirRecord),y)this.push({data:function(c){return v.DATA_DESCRIPTOR+a(c.crc32,4)+a(c.compressedSize,4)+a(c.uncompressedSize,4)}(o),meta:{percent:100}});else for(this.push({data:s.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},w.prototype.flush=function(){for(var o=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var s=this.bytesWritten-o,c=function(h,m,C,D,I){var W=i.transformTo("string",I(D));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(h,2)+a(h,2)+a(m,4)+a(C,4)+a(W.length,2)+W}(this.dirRecords.length,s,o,this.zipComment,this.encodeFileName);this.push({data:c,meta:{percent:100}})},w.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},w.prototype.registerPrevious=function(o){this._sources.push(o);var y=this;return o.on("data",function(s){y.processChunk(s)}),o.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),o.on("error",function(s){y.error(s)}),this},w.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},w.prototype.error=function(o){var y=this._sources;if(!n.prototype.error.call(this,o))return!1;for(var s=0;s<y.length;s++)try{y[s].error(o)}catch{}return!0},w.prototype.lock=function(){n.prototype.lock.call(this);for(var o=this._sources,y=0;y<o.length;y++)o[y].lock()},k.exports=w},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,k,d){var a=r("../compressions"),u=r("./ZipFileWorker");d.generateWorker=function(i,n,g){var x=new u(n.streamFiles,g,n.platform,n.encodeFileName),v=0;try{i.forEach(function(w,o){v++;var y=function(m,C){var D=m||C,I=a[D];if(!I)throw new Error(D+" is not a valid compression method !");return I}(o.options.compression,n.compression),s=o.options.compressionOptions||n.compressionOptions||{},c=o.dir,h=o.date;o._compressWorker(y,s).withStreamInfo("file",{name:w,dir:c,date:h,comment:o.comment||"",unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions}).pipe(x)}),x.entriesCount=v}catch(w){x.error(w)}return x}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,k,d){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new a;for(var i in this)typeof this[i]!="function"&&(u[i]=this[i]);return u}}(a.prototype=r("./object")).loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.10.1",a.loadAsync=function(u,i){return new a().loadAsync(u,i)},a.external=r("./external"),k.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,k,d){var a=r("./utils"),u=r("./external"),i=r("./utf8"),n=r("./zipEntries"),g=r("./stream/Crc32Probe"),x=r("./nodejsUtils");function v(w){return new u.Promise(function(o,y){var s=w.decompressed.getContentWorker().pipe(new g);s.on("error",function(c){y(c)}).on("end",function(){s.streamInfo.crc32!==w.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):o()}).resume()})}k.exports=function(w,o){var y=this;return o=a.extend(o||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),x.isNode&&x.isStream(w)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",w,!0,o.optimizedBinaryString,o.base64).then(function(s){var c=new n(o);return c.load(s),c}).then(function(s){var c=[u.Promise.resolve(s)],h=s.files;if(o.checkCRC32)for(var m=0;m<h.length;m++)c.push(v(h[m]));return u.Promise.all(c)}).then(function(s){for(var c=s.shift(),h=c.files,m=0;m<h.length;m++){var C=h[m],D=C.fileNameStr,I=a.resolve(C.fileNameStr);y.file(I,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:o.createFolders}),C.dir||(y.file(I).unsafeOriginalName=D)}return c.zipComment.length&&(y.comment=c.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,k,d){var a=r("../utils"),u=r("../stream/GenericWorker");function i(n,g){u.call(this,"Nodejs stream input adapter for "+n),this._upstreamEnded=!1,this._bindStream(g)}a.inherits(i,u),i.prototype._bindStream=function(n){var g=this;(this._stream=n).pause(),n.on("data",function(x){g.push({data:x,meta:{percent:0}})}).on("error",function(x){g.isPaused?this.generatedError=x:g.error(x)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},i.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},k.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,k,d){var a=r("readable-stream").Readable;function u(i,n,g){a.call(this,n),this._helper=i;var x=this;i.on("data",function(v,w){x.push(v)||x._helper.pause(),g&&g(w)}).on("error",function(v){x.emit("error",v)}).on("end",function(){x.push(null)})}r("../utils").inherits(u,a),u.prototype._read=function(){this._helper.resume()},k.exports=u},{"../utils":32,"readable-stream":16}],14:[function(r,k,d){k.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,u);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,u)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var u=new Buffer(a);return u.fill(0),u},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(r,k,d){function a(I,W,L){var b,l=i.getTypeOf(W),A=i.extend(L||{},x);A.date=A.date||new Date,A.compression!==null&&(A.compression=A.compression.toUpperCase()),typeof A.unixPermissions=="string"&&(A.unixPermissions=parseInt(A.unixPermissions,8)),A.unixPermissions&&16384&A.unixPermissions&&(A.dir=!0),A.dosPermissions&&16&A.dosPermissions&&(A.dir=!0),A.dir&&(I=h(I)),A.createFolders&&(b=c(I))&&m.call(this,b,!0);var H=l==="string"&&A.binary===!1&&A.base64===!1;L&&L.binary!==void 0||(A.binary=!H),(W instanceof v&&W.uncompressedSize===0||A.dir||!W||W.length===0)&&(A.base64=!1,A.binary=!0,W="",A.compression="STORE",l="string");var p=null;p=W instanceof v||W instanceof n?W:y.isNode&&y.isStream(W)?new s(I,W):i.prepareContent(I,W,A.binary,A.optimizedBinaryString,A.base64);var T=new w(I,p,A);this.files[I]=T}var u=r("./utf8"),i=r("./utils"),n=r("./stream/GenericWorker"),g=r("./stream/StreamHelper"),x=r("./defaults"),v=r("./compressedObject"),w=r("./zipObject"),o=r("./generate"),y=r("./nodejsUtils"),s=r("./nodejs/NodejsStreamInputAdapter"),c=function(I){I.slice(-1)==="/"&&(I=I.substring(0,I.length-1));var W=I.lastIndexOf("/");return 0<W?I.substring(0,W):""},h=function(I){return I.slice(-1)!=="/"&&(I+="/"),I},m=function(I,W){return W=W!==void 0?W:x.createFolders,I=h(I),this.files[I]||a.call(this,I,null,{dir:!0,createFolders:W}),this.files[I]};function C(I){return Object.prototype.toString.call(I)==="[object RegExp]"}var D={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(I){var W,L,b;for(W in this.files)b=this.files[W],(L=W.slice(this.root.length,W.length))&&W.slice(0,this.root.length)===this.root&&I(L,b)},filter:function(I){var W=[];return this.forEach(function(L,b){I(L,b)&&W.push(b)}),W},file:function(I,W,L){if(arguments.length!==1)return I=this.root+I,a.call(this,I,W,L),this;if(C(I)){var b=I;return this.filter(function(A,H){return!H.dir&&b.test(A)})}var l=this.files[this.root+I];return l&&!l.dir?l:null},folder:function(I){if(!I)return this;if(C(I))return this.filter(function(l,A){return A.dir&&I.test(l)});var W=this.root+I,L=m.call(this,W),b=this.clone();return b.root=L.name,b},remove:function(I){I=this.root+I;var W=this.files[I];if(W||(I.slice(-1)!=="/"&&(I+="/"),W=this.files[I]),W&&!W.dir)delete this.files[I];else for(var L=this.filter(function(l,A){return A.name.slice(0,I.length)===I}),b=0;b<L.length;b++)delete this.files[L[b].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(I){var W,L={};try{if((L=i.extend(I||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=L.type.toLowerCase(),L.compression=L.compression.toUpperCase(),L.type==="binarystring"&&(L.type="string"),!L.type)throw new Error("No output type specified.");i.checkSupport(L.type),L.platform!=="darwin"&&L.platform!=="freebsd"&&L.platform!=="linux"&&L.platform!=="sunos"||(L.platform="UNIX"),L.platform==="win32"&&(L.platform="DOS");var b=L.comment||this.comment||"";W=o.generateWorker(this,L,b)}catch(l){(W=new n("error")).error(l)}return new g(W,L.type||"string",L.mimeType)},generateAsync:function(I,W){return this.generateInternalStream(I).accumulate(W)},generateNodeStream:function(I,W){return(I=I||{}).type||(I.type="nodebuffer"),this.generateInternalStream(I).toNodejsStream(W)}};k.exports=D},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,k,d){k.exports=r("stream")},{stream:void 0}],17:[function(r,k,d){var a=r("./DataReader");function u(i){a.call(this,i);for(var n=0;n<this.data.length;n++)i[n]=255&i[n]}r("../utils").inherits(u,a),u.prototype.byteAt=function(i){return this.data[this.zero+i]},u.prototype.lastIndexOfSignature=function(i){for(var n=i.charCodeAt(0),g=i.charCodeAt(1),x=i.charCodeAt(2),v=i.charCodeAt(3),w=this.length-4;0<=w;--w)if(this.data[w]===n&&this.data[w+1]===g&&this.data[w+2]===x&&this.data[w+3]===v)return w-this.zero;return-1},u.prototype.readAndCheckSignature=function(i){var n=i.charCodeAt(0),g=i.charCodeAt(1),x=i.charCodeAt(2),v=i.charCodeAt(3),w=this.readData(4);return n===w[0]&&g===w[1]&&x===w[2]&&v===w[3]},u.prototype.readData=function(i){if(this.checkOffset(i),i===0)return[];var n=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,n},k.exports=u},{"../utils":32,"./DataReader":18}],18:[function(r,k,d){var a=r("../utils");function u(i){this.data=i,this.length=i.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(i){this.checkIndex(this.index+i)},checkIndex:function(i){if(this.length<this.zero+i||i<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+i+"). Corrupted zip ?")},setIndex:function(i){this.checkIndex(i),this.index=i},skip:function(i){this.setIndex(this.index+i)},byteAt:function(){},readInt:function(i){var n,g=0;for(this.checkOffset(i),n=this.index+i-1;n>=this.index;n--)g=(g<<8)+this.byteAt(n);return this.index+=i,g},readString:function(i){return a.transformTo("string",this.readData(i))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var i=this.readInt(4);return new Date(Date.UTC(1980+(i>>25&127),(i>>21&15)-1,i>>16&31,i>>11&31,i>>5&63,(31&i)<<1))}},k.exports=u},{"../utils":32}],19:[function(r,k,d){var a=r("./Uint8ArrayReader");function u(i){a.call(this,i)}r("../utils").inherits(u,a),u.prototype.readData=function(i){this.checkOffset(i);var n=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,n},k.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,k,d){var a=r("./DataReader");function u(i){a.call(this,i)}r("../utils").inherits(u,a),u.prototype.byteAt=function(i){return this.data.charCodeAt(this.zero+i)},u.prototype.lastIndexOfSignature=function(i){return this.data.lastIndexOf(i)-this.zero},u.prototype.readAndCheckSignature=function(i){return i===this.readData(4)},u.prototype.readData=function(i){this.checkOffset(i);var n=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,n},k.exports=u},{"../utils":32,"./DataReader":18}],21:[function(r,k,d){var a=r("./ArrayReader");function u(i){a.call(this,i)}r("../utils").inherits(u,a),u.prototype.readData=function(i){if(this.checkOffset(i),i===0)return new Uint8Array(0);var n=this.data.subarray(this.zero+this.index,this.zero+this.index+i);return this.index+=i,n},k.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(r,k,d){var a=r("../utils"),u=r("../support"),i=r("./ArrayReader"),n=r("./StringReader"),g=r("./NodeBufferReader"),x=r("./Uint8ArrayReader");k.exports=function(v){var w=a.getTypeOf(v);return a.checkSupport(w),w!=="string"||u.uint8array?w==="nodebuffer"?new g(v):u.uint8array?new x(a.transformTo("uint8array",v)):new i(a.transformTo("array",v)):new n(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,k,d){d.LOCAL_FILE_HEADER="PK",d.CENTRAL_FILE_HEADER="PK",d.CENTRAL_DIRECTORY_END="PK",d.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",d.ZIP64_CENTRAL_DIRECTORY_END="PK",d.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,k,d){var a=r("./GenericWorker"),u=r("../utils");function i(n){a.call(this,"ConvertWorker to "+n),this.destType=n}u.inherits(i,a),i.prototype.processChunk=function(n){this.push({data:u.transformTo(this.destType,n.data),meta:n.meta})},k.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(r,k,d){var a=r("./GenericWorker"),u=r("../crc32");function i(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(i,a),i.prototype.processChunk=function(n){this.streamInfo.crc32=u(n.data,this.streamInfo.crc32||0),this.push(n)},k.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,k,d){var a=r("../utils"),u=r("./GenericWorker");function i(n){u.call(this,"DataLengthProbe for "+n),this.propName=n,this.withStreamInfo(n,0)}a.inherits(i,u),i.prototype.processChunk=function(n){if(n){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+n.data.length}u.prototype.processChunk.call(this,n)},k.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(r,k,d){var a=r("../utils"),u=r("./GenericWorker");function i(n){u.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,n.then(function(x){g.dataIsReady=!0,g.data=x,g.max=x&&x.length||0,g.type=a.getTypeOf(x),g.isPaused||g._tickAndRepeat()},function(x){g.error(x)})}a.inherits(i,u),i.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var n=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":n=this.data.substring(this.index,g);break;case"uint8array":n=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":n=this.data.slice(this.index,g)}return this.index=g,this.push({data:n,meta:{percent:this.max?this.index/this.max*100:0}})},k.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(r,k,d){function a(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,i){return this._listeners[u].push(i),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,i){if(this._listeners[u])for(var n=0;n<this._listeners[u].length;n++)this._listeners[u][n].call(this,i)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var i=this;return u.on("data",function(n){i.processChunk(n)}),u.on("end",function(){i.end()}),u.on("error",function(n){i.error(n)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,i){return this.extraStreamInfo[u]=i,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},k.exports=a},{}],29:[function(r,k,d){var a=r("../utils"),u=r("./ConvertWorker"),i=r("./GenericWorker"),n=r("../base64"),g=r("../support"),x=r("../external"),v=null;if(g.nodestream)try{v=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function w(y,s){return new x.Promise(function(c,h){var m=[],C=y._internalType,D=y._outputType,I=y._mimeType;y.on("data",function(W,L){m.push(W),s&&s(L)}).on("error",function(W){m=[],h(W)}).on("end",function(){try{var W=function(L,b,l){switch(L){case"blob":return a.newBlob(a.transformTo("arraybuffer",b),l);case"base64":return n.encode(b);default:return a.transformTo(L,b)}}(D,function(L,b){var l,A=0,H=null,p=0;for(l=0;l<b.length;l++)p+=b[l].length;switch(L){case"string":return b.join("");case"array":return Array.prototype.concat.apply([],b);case"uint8array":for(H=new Uint8Array(p),l=0;l<b.length;l++)H.set(b[l],A),A+=b[l].length;return H;case"nodebuffer":return Buffer.concat(b);default:throw new Error("concat : unsupported type '"+L+"'")}}(C,m),I);c(W)}catch(L){h(L)}m=[]}).resume()})}function o(y,s,c){var h=s;switch(s){case"blob":case"arraybuffer":h="uint8array";break;case"base64":h="string"}try{this._internalType=h,this._outputType=s,this._mimeType=c,a.checkSupport(h),this._worker=y.pipe(new u(h)),y.lock()}catch(m){this._worker=new i("error"),this._worker.error(m)}}o.prototype={accumulate:function(y){return w(this,y)},on:function(y,s){var c=this;return y==="data"?this._worker.on(y,function(h){s.call(c,h.data,h.meta)}):this._worker.on(y,function(){a.delay(s,arguments,c)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},y)}},k.exports=o},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,k,d){if(d.base64=!0,d.array=!0,d.string=!0,d.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",d.nodebuffer=typeof Buffer<"u",d.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")d.blob=!1;else{var a=new ArrayBuffer(0);try{d.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(a),d.blob=u.getBlob("application/zip").size===0}catch{d.blob=!1}}}try{d.nodestream=!!r("readable-stream").Readable}catch{d.nodestream=!1}},{"readable-stream":16}],31:[function(r,k,d){for(var a=r("./utils"),u=r("./support"),i=r("./nodejsUtils"),n=r("./stream/GenericWorker"),g=new Array(256),x=0;x<256;x++)g[x]=252<=x?6:248<=x?5:240<=x?4:224<=x?3:192<=x?2:1;g[254]=g[254]=1;function v(){n.call(this,"utf-8 decode"),this.leftOver=null}function w(){n.call(this,"utf-8 encode")}d.utf8encode=function(o){return u.nodebuffer?i.newBufferFrom(o,"utf-8"):function(y){var s,c,h,m,C,D=y.length,I=0;for(m=0;m<D;m++)(64512&(c=y.charCodeAt(m)))==55296&&m+1<D&&(64512&(h=y.charCodeAt(m+1)))==56320&&(c=65536+(c-55296<<10)+(h-56320),m++),I+=c<128?1:c<2048?2:c<65536?3:4;for(s=u.uint8array?new Uint8Array(I):new Array(I),m=C=0;C<I;m++)(64512&(c=y.charCodeAt(m)))==55296&&m+1<D&&(64512&(h=y.charCodeAt(m+1)))==56320&&(c=65536+(c-55296<<10)+(h-56320),m++),c<128?s[C++]=c:(c<2048?s[C++]=192|c>>>6:(c<65536?s[C++]=224|c>>>12:(s[C++]=240|c>>>18,s[C++]=128|c>>>12&63),s[C++]=128|c>>>6&63),s[C++]=128|63&c);return s}(o)},d.utf8decode=function(o){return u.nodebuffer?a.transformTo("nodebuffer",o).toString("utf-8"):function(y){var s,c,h,m,C=y.length,D=new Array(2*C);for(s=c=0;s<C;)if((h=y[s++])<128)D[c++]=h;else if(4<(m=g[h]))D[c++]=65533,s+=m-1;else{for(h&=m===2?31:m===3?15:7;1<m&&s<C;)h=h<<6|63&y[s++],m--;1<m?D[c++]=65533:h<65536?D[c++]=h:(h-=65536,D[c++]=55296|h>>10&1023,D[c++]=56320|1023&h)}return D.length!==c&&(D.subarray?D=D.subarray(0,c):D.length=c),a.applyFromCharCode(D)}(o=a.transformTo(u.uint8array?"uint8array":"array",o))},a.inherits(v,n),v.prototype.processChunk=function(o){var y=a.transformTo(u.uint8array?"uint8array":"array",o.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var s=y;(y=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),y.set(s,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var c=function(m,C){var D;for((C=C||m.length)>m.length&&(C=m.length),D=C-1;0<=D&&(192&m[D])==128;)D--;return D<0||D===0?C:D+g[m[D]]>C?D:C}(y),h=y;c!==y.length&&(u.uint8array?(h=y.subarray(0,c),this.leftOver=y.subarray(c,y.length)):(h=y.slice(0,c),this.leftOver=y.slice(c,y.length))),this.push({data:d.utf8decode(h),meta:o.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:d.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},d.Utf8DecodeWorker=v,a.inherits(w,n),w.prototype.processChunk=function(o){this.push({data:d.utf8encode(o.data),meta:o.meta})},d.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,k,d){var a=r("./support"),u=r("./base64"),i=r("./nodejsUtils"),n=r("./external");function g(s){return s}function x(s,c){for(var h=0;h<s.length;++h)c[h]=255&s.charCodeAt(h);return c}r("setimmediate"),d.newBlob=function(s,c){d.checkSupport("blob");try{return new Blob([s],{type:c})}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return h.append(s),h.getBlob(c)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(s,c,h){var m=[],C=0,D=s.length;if(D<=h)return String.fromCharCode.apply(null,s);for(;C<D;)c==="array"||c==="nodebuffer"?m.push(String.fromCharCode.apply(null,s.slice(C,Math.min(C+h,D)))):m.push(String.fromCharCode.apply(null,s.subarray(C,Math.min(C+h,D)))),C+=h;return m.join("")},stringifyByChar:function(s){for(var c="",h=0;h<s.length;h++)c+=String.fromCharCode(s[h]);return c},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,i.allocBuffer(1)).length===1}catch{return!1}}()}};function w(s){var c=65536,h=d.getTypeOf(s),m=!0;if(h==="uint8array"?m=v.applyCanBeUsed.uint8array:h==="nodebuffer"&&(m=v.applyCanBeUsed.nodebuffer),m)for(;1<c;)try{return v.stringifyByChunk(s,h,c)}catch{c=Math.floor(c/2)}return v.stringifyByChar(s)}function o(s,c){for(var h=0;h<s.length;h++)c[h]=s[h];return c}d.applyFromCharCode=w;var y={};y.string={string:g,array:function(s){return x(s,new Array(s.length))},arraybuffer:function(s){return y.string.uint8array(s).buffer},uint8array:function(s){return x(s,new Uint8Array(s.length))},nodebuffer:function(s){return x(s,i.allocBuffer(s.length))}},y.array={string:w,array:g,arraybuffer:function(s){return new Uint8Array(s).buffer},uint8array:function(s){return new Uint8Array(s)},nodebuffer:function(s){return i.newBufferFrom(s)}},y.arraybuffer={string:function(s){return w(new Uint8Array(s))},array:function(s){return o(new Uint8Array(s),new Array(s.byteLength))},arraybuffer:g,uint8array:function(s){return new Uint8Array(s)},nodebuffer:function(s){return i.newBufferFrom(new Uint8Array(s))}},y.uint8array={string:w,array:function(s){return o(s,new Array(s.length))},arraybuffer:function(s){return s.buffer},uint8array:g,nodebuffer:function(s){return i.newBufferFrom(s)}},y.nodebuffer={string:w,array:function(s){return o(s,new Array(s.length))},arraybuffer:function(s){return y.nodebuffer.uint8array(s).buffer},uint8array:function(s){return o(s,new Uint8Array(s.length))},nodebuffer:g},d.transformTo=function(s,c){if(c=c||"",!s)return c;d.checkSupport(s);var h=d.getTypeOf(c);return y[h][s](c)},d.resolve=function(s){for(var c=s.split("/"),h=[],m=0;m<c.length;m++){var C=c[m];C==="."||C===""&&m!==0&&m!==c.length-1||(C===".."?h.pop():h.push(C))}return h.join("/")},d.getTypeOf=function(s){return typeof s=="string"?"string":Object.prototype.toString.call(s)==="[object Array]"?"array":a.nodebuffer&&i.isBuffer(s)?"nodebuffer":a.uint8array&&s instanceof Uint8Array?"uint8array":a.arraybuffer&&s instanceof ArrayBuffer?"arraybuffer":void 0},d.checkSupport=function(s){if(!a[s.toLowerCase()])throw new Error(s+" is not supported by this platform")},d.MAX_VALUE_16BITS=65535,d.MAX_VALUE_32BITS=-1,d.pretty=function(s){var c,h,m="";for(h=0;h<(s||"").length;h++)m+="\\x"+((c=s.charCodeAt(h))<16?"0":"")+c.toString(16).toUpperCase();return m},d.delay=function(s,c,h){setImmediate(function(){s.apply(h||null,c||[])})},d.inherits=function(s,c){function h(){}h.prototype=c.prototype,s.prototype=new h},d.extend=function(){var s,c,h={};for(s=0;s<arguments.length;s++)for(c in arguments[s])Object.prototype.hasOwnProperty.call(arguments[s],c)&&h[c]===void 0&&(h[c]=arguments[s][c]);return h},d.prepareContent=function(s,c,h,m,C){return n.Promise.resolve(c).then(function(D){return a.blob&&(D instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(D))!==-1)&&typeof FileReader<"u"?new n.Promise(function(I,W){var L=new FileReader;L.onload=function(b){I(b.target.result)},L.onerror=function(b){W(b.target.error)},L.readAsArrayBuffer(D)}):D}).then(function(D){var I=d.getTypeOf(D);return I?(I==="arraybuffer"?D=d.transformTo("uint8array",D):I==="string"&&(C?D=u.decode(D):h&&m!==!0&&(D=function(W){return x(W,a.uint8array?new Uint8Array(W.length):new Array(W.length))}(D))),D):n.Promise.reject(new Error("Can't read the data of '"+s+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,k,d){var a=r("./reader/readerFor"),u=r("./utils"),i=r("./signature"),n=r("./zipEntry"),g=r("./support");function x(v){this.files=[],this.loadOptions=v}x.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var w=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(w)+", expected "+u.pretty(v)+")")}},isSignature:function(v,w){var o=this.reader.index;this.reader.setIndex(v);var y=this.reader.readString(4)===w;return this.reader.setIndex(o),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),w=g.uint8array?"uint8array":"array",o=u.transformTo(w,v);this.zipComment=this.loadOptions.decodeFileName(o)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,w,o,y=this.zip64EndOfCentralSize-44;0<y;)v=this.reader.readInt(2),w=this.reader.readInt(4),o=this.reader.readData(w),this.zip64ExtensibleData[v]={id:v,length:w,value:o}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,w;for(v=0;v<this.files.length;v++)w=this.files[v],this.reader.setIndex(w.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),w.readLocalPart(this.reader),w.handleUTF8(),w.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(v=new n({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var w=v;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var o=this.centralDirOffset+this.centralDirSize;this.zip64&&(o+=20,o+=12+this.zip64EndOfCentralSize);var y=w-o;if(0<y)this.isSignature(w,i.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(v){this.reader=a(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},k.exports=x},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,k,d){var a=r("./reader/readerFor"),u=r("./utils"),i=r("./compressedObject"),n=r("./crc32"),g=r("./utf8"),x=r("./compressions"),v=r("./support");function w(o,y){this.options=o,this.loadOptions=y}w.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(o){var y,s;if(o.skip(22),this.fileNameLength=o.readInt(2),s=o.readInt(2),this.fileName=o.readData(this.fileNameLength),o.skip(s),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(c){for(var h in x)if(Object.prototype.hasOwnProperty.call(x,h)&&x[h].magic===c)return x[h];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,y,o.readData(this.compressedSize))},readCentralPart:function(o){this.versionMadeBy=o.readInt(2),o.skip(2),this.bitFlag=o.readInt(2),this.compressionMethod=o.readString(2),this.date=o.readDate(),this.crc32=o.readInt(4),this.compressedSize=o.readInt(4),this.uncompressedSize=o.readInt(4);var y=o.readInt(2);if(this.extraFieldsLength=o.readInt(2),this.fileCommentLength=o.readInt(2),this.diskNumberStart=o.readInt(2),this.internalFileAttributes=o.readInt(2),this.externalFileAttributes=o.readInt(4),this.localHeaderOffset=o.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");o.skip(y),this.readExtraFields(o),this.parseZIP64ExtraField(o),this.fileComment=o.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var o=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),o==0&&(this.dosPermissions=63&this.externalFileAttributes),o==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var o=a(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=o.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=o.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=o.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=o.readInt(4))}},readExtraFields:function(o){var y,s,c,h=o.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});o.index+4<h;)y=o.readInt(2),s=o.readInt(2),c=o.readData(s),this.extraFields[y]={id:y,length:s,value:c};o.setIndex(h)},handleUTF8:function(){var o=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var s=u.transformTo(o,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(s)}var c=this.findExtraFieldUnicodeComment();if(c!==null)this.fileCommentStr=c;else{var h=u.transformTo(o,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(h)}}},findExtraFieldUnicodePath:function(){var o=this.extraFields[28789];if(o){var y=a(o.value);return y.readInt(1)!==1||n(this.fileName)!==y.readInt(4)?null:g.utf8decode(y.readData(o.length-5))}return null},findExtraFieldUnicodeComment:function(){var o=this.extraFields[25461];if(o){var y=a(o.value);return y.readInt(1)!==1||n(this.fileComment)!==y.readInt(4)?null:g.utf8decode(y.readData(o.length-5))}return null}},k.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,k,d){function a(y,s,c){this.name=y,this.dir=c.dir,this.date=c.date,this.comment=c.comment,this.unixPermissions=c.unixPermissions,this.dosPermissions=c.dosPermissions,this._data=s,this._dataBinary=c.binary,this.options={compression:c.compression,compressionOptions:c.compressionOptions}}var u=r("./stream/StreamHelper"),i=r("./stream/DataWorker"),n=r("./utf8"),g=r("./compressedObject"),x=r("./stream/GenericWorker");a.prototype={internalStream:function(y){var s=null,c="string";try{if(!y)throw new Error("No output type specified.");var h=(c=y.toLowerCase())==="string"||c==="text";c!=="binarystring"&&c!=="text"||(c="string"),s=this._decompressWorker();var m=!this._dataBinary;m&&!h&&(s=s.pipe(new n.Utf8EncodeWorker)),!m&&h&&(s=s.pipe(new n.Utf8DecodeWorker))}catch(C){(s=new x("error")).error(C)}return new u(s,c,"")},async:function(y,s){return this.internalStream(y).accumulate(s)},nodeStream:function(y,s){return this.internalStream(y||"nodebuffer").toNodejsStream(s)},_compressWorker:function(y,s){if(this._data instanceof g&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var c=this._decompressWorker();return this._dataBinary||(c=c.pipe(new n.Utf8EncodeWorker)),g.createWorkerFrom(c,y,s)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof x?this._data:new i(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],w=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},o=0;o<v.length;o++)a.prototype[v[o]]=w;k.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,k,d){(function(a){var u,i,n=a.MutationObserver||a.WebKitMutationObserver;if(n){var g=0,x=new n(y),v=a.document.createTextNode("");x.observe(v,{characterData:!0}),u=function(){v.data=g=++g%2}}else if(a.setImmediate||a.MessageChannel===void 0)u="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var s=a.document.createElement("script");s.onreadystatechange=function(){y(),s.onreadystatechange=null,s.parentNode.removeChild(s),s=null},a.document.documentElement.appendChild(s)}:function(){setTimeout(y,0)};else{var w=new a.MessageChannel;w.port1.onmessage=y,u=function(){w.port2.postMessage(0)}}var o=[];function y(){var s,c;i=!0;for(var h=o.length;h;){for(c=o,o=[],s=-1;++s<h;)c[s]();h=o.length}i=!1}k.exports=function(s){o.push(s)!==1||i||u()}}).call(this,typeof Dt<"u"?Dt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,k,d){var a=r("immediate");function u(){}var i={},n=["REJECTED"],g=["FULFILLED"],x=["PENDING"];function v(h){if(typeof h!="function")throw new TypeError("resolver must be a function");this.state=x,this.queue=[],this.outcome=void 0,h!==u&&s(this,h)}function w(h,m,C){this.promise=h,typeof m=="function"&&(this.onFulfilled=m,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function o(h,m,C){a(function(){var D;try{D=m(C)}catch(I){return i.reject(h,I)}D===h?i.reject(h,new TypeError("Cannot resolve promise with itself")):i.resolve(h,D)})}function y(h){var m=h&&h.then;if(h&&(typeof h=="object"||typeof h=="function")&&typeof m=="function")return function(){m.apply(h,arguments)}}function s(h,m){var C=!1;function D(L){C||(C=!0,i.reject(h,L))}function I(L){C||(C=!0,i.resolve(h,L))}var W=c(function(){m(I,D)});W.status==="error"&&D(W.value)}function c(h,m){var C={};try{C.value=h(m),C.status="success"}catch(D){C.status="error",C.value=D}return C}(k.exports=v).prototype.finally=function(h){if(typeof h!="function")return this;var m=this.constructor;return this.then(function(C){return m.resolve(h()).then(function(){return C})},function(C){return m.resolve(h()).then(function(){throw C})})},v.prototype.catch=function(h){return this.then(null,h)},v.prototype.then=function(h,m){if(typeof h!="function"&&this.state===g||typeof m!="function"&&this.state===n)return this;var C=new this.constructor(u);return this.state!==x?o(C,this.state===g?h:m,this.outcome):this.queue.push(new w(C,h,m)),C},w.prototype.callFulfilled=function(h){i.resolve(this.promise,h)},w.prototype.otherCallFulfilled=function(h){o(this.promise,this.onFulfilled,h)},w.prototype.callRejected=function(h){i.reject(this.promise,h)},w.prototype.otherCallRejected=function(h){o(this.promise,this.onRejected,h)},i.resolve=function(h,m){var C=c(y,m);if(C.status==="error")return i.reject(h,C.value);var D=C.value;if(D)s(h,D);else{h.state=g,h.outcome=m;for(var I=-1,W=h.queue.length;++I<W;)h.queue[I].callFulfilled(m)}return h},i.reject=function(h,m){h.state=n,h.outcome=m;for(var C=-1,D=h.queue.length;++C<D;)h.queue[C].callRejected(m);return h},v.resolve=function(h){return h instanceof this?h:i.resolve(new this(u),h)},v.reject=function(h){var m=new this(u);return i.reject(m,h)},v.all=function(h){var m=this;if(Object.prototype.toString.call(h)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=h.length,D=!1;if(!C)return this.resolve([]);for(var I=new Array(C),W=0,L=-1,b=new this(u);++L<C;)l(h[L],L);return b;function l(A,H){m.resolve(A).then(function(p){I[H]=p,++W!==C||D||(D=!0,i.resolve(b,I))},function(p){D||(D=!0,i.reject(b,p))})}},v.race=function(h){var m=this;if(Object.prototype.toString.call(h)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=h.length,D=!1;if(!C)return this.resolve([]);for(var I=-1,W=new this(u);++I<C;)L=h[I],m.resolve(L).then(function(b){D||(D=!0,i.resolve(W,b))},function(b){D||(D=!0,i.reject(W,b))});var L;return W}},{immediate:36}],38:[function(r,k,d){var a={};(0,r("./lib/utils/common").assign)(a,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),k.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,k,d){var a=r("./zlib/deflate"),u=r("./utils/common"),i=r("./utils/strings"),n=r("./zlib/messages"),g=r("./zlib/zstream"),x=Object.prototype.toString,v=0,w=-1,o=0,y=8;function s(h){if(!(this instanceof s))return new s(h);this.options=u.assign({level:w,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:o,to:""},h||{});var m=this.options;m.raw&&0<m.windowBits?m.windowBits=-m.windowBits:m.gzip&&0<m.windowBits&&m.windowBits<16&&(m.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var C=a.deflateInit2(this.strm,m.level,m.method,m.windowBits,m.memLevel,m.strategy);if(C!==v)throw new Error(n[C]);if(m.header&&a.deflateSetHeader(this.strm,m.header),m.dictionary){var D;if(D=typeof m.dictionary=="string"?i.string2buf(m.dictionary):x.call(m.dictionary)==="[object ArrayBuffer]"?new Uint8Array(m.dictionary):m.dictionary,(C=a.deflateSetDictionary(this.strm,D))!==v)throw new Error(n[C]);this._dict_set=!0}}function c(h,m){var C=new s(m);if(C.push(h,!0),C.err)throw C.msg||n[C.err];return C.result}s.prototype.push=function(h,m){var C,D,I=this.strm,W=this.options.chunkSize;if(this.ended)return!1;D=m===~~m?m:m===!0?4:0,typeof h=="string"?I.input=i.string2buf(h):x.call(h)==="[object ArrayBuffer]"?I.input=new Uint8Array(h):I.input=h,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new u.Buf8(W),I.next_out=0,I.avail_out=W),(C=a.deflate(I,D))!==1&&C!==v)return this.onEnd(C),!(this.ended=!0);I.avail_out!==0&&(I.avail_in!==0||D!==4&&D!==2)||(this.options.to==="string"?this.onData(i.buf2binstring(u.shrinkBuf(I.output,I.next_out))):this.onData(u.shrinkBuf(I.output,I.next_out)))}while((0<I.avail_in||I.avail_out===0)&&C!==1);return D===4?(C=a.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===v):D!==2||(this.onEnd(v),!(I.avail_out=0))},s.prototype.onData=function(h){this.chunks.push(h)},s.prototype.onEnd=function(h){h===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},d.Deflate=s,d.deflate=c,d.deflateRaw=function(h,m){return(m=m||{}).raw=!0,c(h,m)},d.gzip=function(h,m){return(m=m||{}).gzip=!0,c(h,m)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,k,d){var a=r("./zlib/inflate"),u=r("./utils/common"),i=r("./utils/strings"),n=r("./zlib/constants"),g=r("./zlib/messages"),x=r("./zlib/zstream"),v=r("./zlib/gzheader"),w=Object.prototype.toString;function o(s){if(!(this instanceof o))return new o(s);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},s||{});var c=this.options;c.raw&&0<=c.windowBits&&c.windowBits<16&&(c.windowBits=-c.windowBits,c.windowBits===0&&(c.windowBits=-15)),!(0<=c.windowBits&&c.windowBits<16)||s&&s.windowBits||(c.windowBits+=32),15<c.windowBits&&c.windowBits<48&&!(15&c.windowBits)&&(c.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x,this.strm.avail_out=0;var h=a.inflateInit2(this.strm,c.windowBits);if(h!==n.Z_OK)throw new Error(g[h]);this.header=new v,a.inflateGetHeader(this.strm,this.header)}function y(s,c){var h=new o(c);if(h.push(s,!0),h.err)throw h.msg||g[h.err];return h.result}o.prototype.push=function(s,c){var h,m,C,D,I,W,L=this.strm,b=this.options.chunkSize,l=this.options.dictionary,A=!1;if(this.ended)return!1;m=c===~~c?c:c===!0?n.Z_FINISH:n.Z_NO_FLUSH,typeof s=="string"?L.input=i.binstring2buf(s):w.call(s)==="[object ArrayBuffer]"?L.input=new Uint8Array(s):L.input=s,L.next_in=0,L.avail_in=L.input.length;do{if(L.avail_out===0&&(L.output=new u.Buf8(b),L.next_out=0,L.avail_out=b),(h=a.inflate(L,n.Z_NO_FLUSH))===n.Z_NEED_DICT&&l&&(W=typeof l=="string"?i.string2buf(l):w.call(l)==="[object ArrayBuffer]"?new Uint8Array(l):l,h=a.inflateSetDictionary(this.strm,W)),h===n.Z_BUF_ERROR&&A===!0&&(h=n.Z_OK,A=!1),h!==n.Z_STREAM_END&&h!==n.Z_OK)return this.onEnd(h),!(this.ended=!0);L.next_out&&(L.avail_out!==0&&h!==n.Z_STREAM_END&&(L.avail_in!==0||m!==n.Z_FINISH&&m!==n.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=i.utf8border(L.output,L.next_out),D=L.next_out-C,I=i.buf2string(L.output,C),L.next_out=D,L.avail_out=b-D,D&&u.arraySet(L.output,L.output,C,D,0),this.onData(I)):this.onData(u.shrinkBuf(L.output,L.next_out)))),L.avail_in===0&&L.avail_out===0&&(A=!0)}while((0<L.avail_in||L.avail_out===0)&&h!==n.Z_STREAM_END);return h===n.Z_STREAM_END&&(m=n.Z_FINISH),m===n.Z_FINISH?(h=a.inflateEnd(this.strm),this.onEnd(h),this.ended=!0,h===n.Z_OK):m!==n.Z_SYNC_FLUSH||(this.onEnd(n.Z_OK),!(L.avail_out=0))},o.prototype.onData=function(s){this.chunks.push(s)},o.prototype.onEnd=function(s){s===n.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg},d.Inflate=o,d.inflate=y,d.inflateRaw=function(s,c){return(c=c||{}).raw=!0,y(s,c)},d.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,k,d){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";d.assign=function(n){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var x=g.shift();if(x){if(typeof x!="object")throw new TypeError(x+"must be non-object");for(var v in x)x.hasOwnProperty(v)&&(n[v]=x[v])}}return n},d.shrinkBuf=function(n,g){return n.length===g?n:n.subarray?n.subarray(0,g):(n.length=g,n)};var u={arraySet:function(n,g,x,v,w){if(g.subarray&&n.subarray)n.set(g.subarray(x,x+v),w);else for(var o=0;o<v;o++)n[w+o]=g[x+o]},flattenChunks:function(n){var g,x,v,w,o,y;for(g=v=0,x=n.length;g<x;g++)v+=n[g].length;for(y=new Uint8Array(v),g=w=0,x=n.length;g<x;g++)o=n[g],y.set(o,w),w+=o.length;return y}},i={arraySet:function(n,g,x,v,w){for(var o=0;o<v;o++)n[w+o]=g[x+o]},flattenChunks:function(n){return[].concat.apply([],n)}};d.setTyped=function(n){n?(d.Buf8=Uint8Array,d.Buf16=Uint16Array,d.Buf32=Int32Array,d.assign(d,u)):(d.Buf8=Array,d.Buf16=Array,d.Buf32=Array,d.assign(d,i))},d.setTyped(a)},{}],42:[function(r,k,d){var a=r("./common"),u=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{i=!1}for(var n=new a.Buf8(256),g=0;g<256;g++)n[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function x(v,w){if(w<65537&&(v.subarray&&i||!v.subarray&&u))return String.fromCharCode.apply(null,a.shrinkBuf(v,w));for(var o="",y=0;y<w;y++)o+=String.fromCharCode(v[y]);return o}n[254]=n[254]=1,d.string2buf=function(v){var w,o,y,s,c,h=v.length,m=0;for(s=0;s<h;s++)(64512&(o=v.charCodeAt(s)))==55296&&s+1<h&&(64512&(y=v.charCodeAt(s+1)))==56320&&(o=65536+(o-55296<<10)+(y-56320),s++),m+=o<128?1:o<2048?2:o<65536?3:4;for(w=new a.Buf8(m),s=c=0;c<m;s++)(64512&(o=v.charCodeAt(s)))==55296&&s+1<h&&(64512&(y=v.charCodeAt(s+1)))==56320&&(o=65536+(o-55296<<10)+(y-56320),s++),o<128?w[c++]=o:(o<2048?w[c++]=192|o>>>6:(o<65536?w[c++]=224|o>>>12:(w[c++]=240|o>>>18,w[c++]=128|o>>>12&63),w[c++]=128|o>>>6&63),w[c++]=128|63&o);return w},d.buf2binstring=function(v){return x(v,v.length)},d.binstring2buf=function(v){for(var w=new a.Buf8(v.length),o=0,y=w.length;o<y;o++)w[o]=v.charCodeAt(o);return w},d.buf2string=function(v,w){var o,y,s,c,h=w||v.length,m=new Array(2*h);for(o=y=0;o<h;)if((s=v[o++])<128)m[y++]=s;else if(4<(c=n[s]))m[y++]=65533,o+=c-1;else{for(s&=c===2?31:c===3?15:7;1<c&&o<h;)s=s<<6|63&v[o++],c--;1<c?m[y++]=65533:s<65536?m[y++]=s:(s-=65536,m[y++]=55296|s>>10&1023,m[y++]=56320|1023&s)}return x(m,y)},d.utf8border=function(v,w){var o;for((w=w||v.length)>v.length&&(w=v.length),o=w-1;0<=o&&(192&v[o])==128;)o--;return o<0||o===0?w:o+n[v[o]]>w?o:w}},{"./common":41}],43:[function(r,k,d){k.exports=function(a,u,i,n){for(var g=65535&a|0,x=a>>>16&65535|0,v=0;i!==0;){for(i-=v=2e3<i?2e3:i;x=x+(g=g+u[n++]|0)|0,--v;);g%=65521,x%=65521}return g|x<<16|0}},{}],44:[function(r,k,d){k.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,k,d){var a=function(){for(var u,i=[],n=0;n<256;n++){u=n;for(var g=0;g<8;g++)u=1&u?3988292384^u>>>1:u>>>1;i[n]=u}return i}();k.exports=function(u,i,n,g){var x=a,v=g+n;u^=-1;for(var w=g;w<v;w++)u=u>>>8^x[255&(u^i[w])];return-1^u}},{}],46:[function(r,k,d){var a,u=r("../utils/common"),i=r("./trees"),n=r("./adler32"),g=r("./crc32"),x=r("./messages"),v=0,w=4,o=0,y=-2,s=-1,c=4,h=2,m=8,C=9,D=286,I=30,W=19,L=2*D+1,b=15,l=3,A=258,H=A+l+1,p=42,T=113,e=1,j=2,V=3,N=4;function Q(t,U){return t.msg=x[U],U}function P(t){return(t<<1)-(4<t?9:0)}function et(t){for(var U=t.length;0<=--U;)t[U]=0}function F(t){var U=t.state,B=U.pending;B>t.avail_out&&(B=t.avail_out),B!==0&&(u.arraySet(t.output,U.pending_buf,U.pending_out,B,t.next_out),t.next_out+=B,U.pending_out+=B,t.total_out+=B,t.avail_out-=B,U.pending-=B,U.pending===0&&(U.pending_out=0))}function E(t,U){i._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,U),t.block_start=t.strstart,F(t.strm)}function X(t,U){t.pending_buf[t.pending++]=U}function Y(t,U){t.pending_buf[t.pending++]=U>>>8&255,t.pending_buf[t.pending++]=255&U}function q(t,U){var B,_,f=t.max_chain_length,S=t.strstart,M=t.prev_length,Z=t.nice_match,z=t.strstart>t.w_size-H?t.strstart-(t.w_size-H):0,K=t.window,J=t.w_mask,$=t.prev,tt=t.strstart+A,ut=K[S+M-1],st=K[S+M];t.prev_length>=t.good_match&&(f>>=2),Z>t.lookahead&&(Z=t.lookahead);do if(K[(B=U)+M]===st&&K[B+M-1]===ut&&K[B]===K[S]&&K[++B]===K[S+1]){S+=2,B++;do;while(K[++S]===K[++B]&&K[++S]===K[++B]&&K[++S]===K[++B]&&K[++S]===K[++B]&&K[++S]===K[++B]&&K[++S]===K[++B]&&K[++S]===K[++B]&&K[++S]===K[++B]&&S<tt);if(_=A-(tt-S),S=tt-A,M<_){if(t.match_start=U,Z<=(M=_))break;ut=K[S+M-1],st=K[S+M]}}while((U=$[U&J])>z&&--f!=0);return M<=t.lookahead?M:t.lookahead}function at(t){var U,B,_,f,S,M,Z,z,K,J,$=t.w_size;do{if(f=t.window_size-t.lookahead-t.strstart,t.strstart>=$+($-H)){for(u.arraySet(t.window,t.window,$,$,0),t.match_start-=$,t.strstart-=$,t.block_start-=$,U=B=t.hash_size;_=t.head[--U],t.head[U]=$<=_?_-$:0,--B;);for(U=B=$;_=t.prev[--U],t.prev[U]=$<=_?_-$:0,--B;);f+=$}if(t.strm.avail_in===0)break;if(M=t.strm,Z=t.window,z=t.strstart+t.lookahead,K=f,J=void 0,J=M.avail_in,K<J&&(J=K),B=J===0?0:(M.avail_in-=J,u.arraySet(Z,M.input,M.next_in,J,z),M.state.wrap===1?M.adler=n(M.adler,Z,J,z):M.state.wrap===2&&(M.adler=g(M.adler,Z,J,z)),M.next_in+=J,M.total_in+=J,J),t.lookahead+=B,t.lookahead+t.insert>=l)for(S=t.strstart-t.insert,t.ins_h=t.window[S],t.ins_h=(t.ins_h<<t.hash_shift^t.window[S+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[S+l-1])&t.hash_mask,t.prev[S&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=S,S++,t.insert--,!(t.lookahead+t.insert<l)););}while(t.lookahead<H&&t.strm.avail_in!==0)}function lt(t,U){for(var B,_;;){if(t.lookahead<H){if(at(t),t.lookahead<H&&U===v)return e;if(t.lookahead===0)break}if(B=0,t.lookahead>=l&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+l-1])&t.hash_mask,B=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),B!==0&&t.strstart-B<=t.w_size-H&&(t.match_length=q(t,B)),t.match_length>=l)if(_=i._tr_tally(t,t.strstart-t.match_start,t.match_length-l),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=l){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+l-1])&t.hash_mask,B=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,--t.match_length!=0;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else _=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(_&&(E(t,!1),t.strm.avail_out===0))return e}return t.insert=t.strstart<l-1?t.strstart:l-1,U===w?(E(t,!0),t.strm.avail_out===0?V:N):t.last_lit&&(E(t,!1),t.strm.avail_out===0)?e:j}function rt(t,U){for(var B,_,f;;){if(t.lookahead<H){if(at(t),t.lookahead<H&&U===v)return e;if(t.lookahead===0)break}if(B=0,t.lookahead>=l&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+l-1])&t.hash_mask,B=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=l-1,B!==0&&t.prev_length<t.max_lazy_match&&t.strstart-B<=t.w_size-H&&(t.match_length=q(t,B),t.match_length<=5&&(t.strategy===1||t.match_length===l&&4096<t.strstart-t.match_start)&&(t.match_length=l-1)),t.prev_length>=l&&t.match_length<=t.prev_length){for(f=t.strstart+t.lookahead-l,_=i._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-l),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=f&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+l-1])&t.hash_mask,B=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),--t.prev_length!=0;);if(t.match_available=0,t.match_length=l-1,t.strstart++,_&&(E(t,!1),t.strm.avail_out===0))return e}else if(t.match_available){if((_=i._tr_tally(t,0,t.window[t.strstart-1]))&&E(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return e}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(_=i._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<l-1?t.strstart:l-1,U===w?(E(t,!0),t.strm.avail_out===0?V:N):t.last_lit&&(E(t,!1),t.strm.avail_out===0)?e:j}function G(t,U,B,_,f){this.good_length=t,this.max_lazy=U,this.nice_length=B,this.max_chain=_,this.func=f}function nt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*L),this.dyn_dtree=new u.Buf16(2*(2*I+1)),this.bl_tree=new u.Buf16(2*(2*W+1)),et(this.dyn_ltree),et(this.dyn_dtree),et(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(b+1),this.heap=new u.Buf16(2*D+1),et(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*D+1),et(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function it(t){var U;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=h,(U=t.state).pending=0,U.pending_out=0,U.wrap<0&&(U.wrap=-U.wrap),U.status=U.wrap?p:T,t.adler=U.wrap===2?0:1,U.last_flush=v,i._tr_init(U),o):Q(t,y)}function ht(t){var U=it(t);return U===o&&function(B){B.window_size=2*B.w_size,et(B.head),B.max_lazy_match=a[B.level].max_lazy,B.good_match=a[B.level].good_length,B.nice_match=a[B.level].nice_length,B.max_chain_length=a[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=l-1,B.match_available=0,B.ins_h=0}(t.state),U}function ot(t,U,B,_,f,S){if(!t)return y;var M=1;if(U===s&&(U=6),_<0?(M=0,_=-_):15<_&&(M=2,_-=16),f<1||C<f||B!==m||_<8||15<_||U<0||9<U||S<0||c<S)return Q(t,y);_===8&&(_=9);var Z=new nt;return(t.state=Z).strm=t,Z.wrap=M,Z.gzhead=null,Z.w_bits=_,Z.w_size=1<<Z.w_bits,Z.w_mask=Z.w_size-1,Z.hash_bits=f+7,Z.hash_size=1<<Z.hash_bits,Z.hash_mask=Z.hash_size-1,Z.hash_shift=~~((Z.hash_bits+l-1)/l),Z.window=new u.Buf8(2*Z.w_size),Z.head=new u.Buf16(Z.hash_size),Z.prev=new u.Buf16(Z.w_size),Z.lit_bufsize=1<<f+6,Z.pending_buf_size=4*Z.lit_bufsize,Z.pending_buf=new u.Buf8(Z.pending_buf_size),Z.d_buf=1*Z.lit_bufsize,Z.l_buf=3*Z.lit_bufsize,Z.level=U,Z.strategy=S,Z.method=B,ht(t)}a=[new G(0,0,0,0,function(t,U){var B=65535;for(B>t.pending_buf_size-5&&(B=t.pending_buf_size-5);;){if(t.lookahead<=1){if(at(t),t.lookahead===0&&U===v)return e;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var _=t.block_start+B;if((t.strstart===0||t.strstart>=_)&&(t.lookahead=t.strstart-_,t.strstart=_,E(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-H&&(E(t,!1),t.strm.avail_out===0))return e}return t.insert=0,U===w?(E(t,!0),t.strm.avail_out===0?V:N):(t.strstart>t.block_start&&(E(t,!1),t.strm.avail_out),e)}),new G(4,4,8,4,lt),new G(4,5,16,8,lt),new G(4,6,32,32,lt),new G(4,4,16,16,rt),new G(8,16,32,32,rt),new G(8,16,128,128,rt),new G(8,32,128,256,rt),new G(32,128,258,1024,rt),new G(32,258,258,4096,rt)],d.deflateInit=function(t,U){return ot(t,U,m,15,8,0)},d.deflateInit2=ot,d.deflateReset=ht,d.deflateResetKeep=it,d.deflateSetHeader=function(t,U){return t&&t.state?t.state.wrap!==2?y:(t.state.gzhead=U,o):y},d.deflate=function(t,U){var B,_,f,S;if(!t||!t.state||5<U||U<0)return t?Q(t,y):y;if(_=t.state,!t.output||!t.input&&t.avail_in!==0||_.status===666&&U!==w)return Q(t,t.avail_out===0?-5:y);if(_.strm=t,B=_.last_flush,_.last_flush=U,_.status===p)if(_.wrap===2)t.adler=0,X(_,31),X(_,139),X(_,8),_.gzhead?(X(_,(_.gzhead.text?1:0)+(_.gzhead.hcrc?2:0)+(_.gzhead.extra?4:0)+(_.gzhead.name?8:0)+(_.gzhead.comment?16:0)),X(_,255&_.gzhead.time),X(_,_.gzhead.time>>8&255),X(_,_.gzhead.time>>16&255),X(_,_.gzhead.time>>24&255),X(_,_.level===9?2:2<=_.strategy||_.level<2?4:0),X(_,255&_.gzhead.os),_.gzhead.extra&&_.gzhead.extra.length&&(X(_,255&_.gzhead.extra.length),X(_,_.gzhead.extra.length>>8&255)),_.gzhead.hcrc&&(t.adler=g(t.adler,_.pending_buf,_.pending,0)),_.gzindex=0,_.status=69):(X(_,0),X(_,0),X(_,0),X(_,0),X(_,0),X(_,_.level===9?2:2<=_.strategy||_.level<2?4:0),X(_,3),_.status=T);else{var M=m+(_.w_bits-8<<4)<<8;M|=(2<=_.strategy||_.level<2?0:_.level<6?1:_.level===6?2:3)<<6,_.strstart!==0&&(M|=32),M+=31-M%31,_.status=T,Y(_,M),_.strstart!==0&&(Y(_,t.adler>>>16),Y(_,65535&t.adler)),t.adler=1}if(_.status===69)if(_.gzhead.extra){for(f=_.pending;_.gzindex<(65535&_.gzhead.extra.length)&&(_.pending!==_.pending_buf_size||(_.gzhead.hcrc&&_.pending>f&&(t.adler=g(t.adler,_.pending_buf,_.pending-f,f)),F(t),f=_.pending,_.pending!==_.pending_buf_size));)X(_,255&_.gzhead.extra[_.gzindex]),_.gzindex++;_.gzhead.hcrc&&_.pending>f&&(t.adler=g(t.adler,_.pending_buf,_.pending-f,f)),_.gzindex===_.gzhead.extra.length&&(_.gzindex=0,_.status=73)}else _.status=73;if(_.status===73)if(_.gzhead.name){f=_.pending;do{if(_.pending===_.pending_buf_size&&(_.gzhead.hcrc&&_.pending>f&&(t.adler=g(t.adler,_.pending_buf,_.pending-f,f)),F(t),f=_.pending,_.pending===_.pending_buf_size)){S=1;break}S=_.gzindex<_.gzhead.name.length?255&_.gzhead.name.charCodeAt(_.gzindex++):0,X(_,S)}while(S!==0);_.gzhead.hcrc&&_.pending>f&&(t.adler=g(t.adler,_.pending_buf,_.pending-f,f)),S===0&&(_.gzindex=0,_.status=91)}else _.status=91;if(_.status===91)if(_.gzhead.comment){f=_.pending;do{if(_.pending===_.pending_buf_size&&(_.gzhead.hcrc&&_.pending>f&&(t.adler=g(t.adler,_.pending_buf,_.pending-f,f)),F(t),f=_.pending,_.pending===_.pending_buf_size)){S=1;break}S=_.gzindex<_.gzhead.comment.length?255&_.gzhead.comment.charCodeAt(_.gzindex++):0,X(_,S)}while(S!==0);_.gzhead.hcrc&&_.pending>f&&(t.adler=g(t.adler,_.pending_buf,_.pending-f,f)),S===0&&(_.status=103)}else _.status=103;if(_.status===103&&(_.gzhead.hcrc?(_.pending+2>_.pending_buf_size&&F(t),_.pending+2<=_.pending_buf_size&&(X(_,255&t.adler),X(_,t.adler>>8&255),t.adler=0,_.status=T)):_.status=T),_.pending!==0){if(F(t),t.avail_out===0)return _.last_flush=-1,o}else if(t.avail_in===0&&P(U)<=P(B)&&U!==w)return Q(t,-5);if(_.status===666&&t.avail_in!==0)return Q(t,-5);if(t.avail_in!==0||_.lookahead!==0||U!==v&&_.status!==666){var Z=_.strategy===2?function(z,K){for(var J;;){if(z.lookahead===0&&(at(z),z.lookahead===0)){if(K===v)return e;break}if(z.match_length=0,J=i._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++,J&&(E(z,!1),z.strm.avail_out===0))return e}return z.insert=0,K===w?(E(z,!0),z.strm.avail_out===0?V:N):z.last_lit&&(E(z,!1),z.strm.avail_out===0)?e:j}(_,U):_.strategy===3?function(z,K){for(var J,$,tt,ut,st=z.window;;){if(z.lookahead<=A){if(at(z),z.lookahead<=A&&K===v)return e;if(z.lookahead===0)break}if(z.match_length=0,z.lookahead>=l&&0<z.strstart&&($=st[tt=z.strstart-1])===st[++tt]&&$===st[++tt]&&$===st[++tt]){ut=z.strstart+A;do;while($===st[++tt]&&$===st[++tt]&&$===st[++tt]&&$===st[++tt]&&$===st[++tt]&&$===st[++tt]&&$===st[++tt]&&$===st[++tt]&&tt<ut);z.match_length=A-(ut-tt),z.match_length>z.lookahead&&(z.match_length=z.lookahead)}if(z.match_length>=l?(J=i._tr_tally(z,1,z.match_length-l),z.lookahead-=z.match_length,z.strstart+=z.match_length,z.match_length=0):(J=i._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++),J&&(E(z,!1),z.strm.avail_out===0))return e}return z.insert=0,K===w?(E(z,!0),z.strm.avail_out===0?V:N):z.last_lit&&(E(z,!1),z.strm.avail_out===0)?e:j}(_,U):a[_.level].func(_,U);if(Z!==V&&Z!==N||(_.status=666),Z===e||Z===V)return t.avail_out===0&&(_.last_flush=-1),o;if(Z===j&&(U===1?i._tr_align(_):U!==5&&(i._tr_stored_block(_,0,0,!1),U===3&&(et(_.head),_.lookahead===0&&(_.strstart=0,_.block_start=0,_.insert=0))),F(t),t.avail_out===0))return _.last_flush=-1,o}return U!==w?o:_.wrap<=0?1:(_.wrap===2?(X(_,255&t.adler),X(_,t.adler>>8&255),X(_,t.adler>>16&255),X(_,t.adler>>24&255),X(_,255&t.total_in),X(_,t.total_in>>8&255),X(_,t.total_in>>16&255),X(_,t.total_in>>24&255)):(Y(_,t.adler>>>16),Y(_,65535&t.adler)),F(t),0<_.wrap&&(_.wrap=-_.wrap),_.pending!==0?o:1)},d.deflateEnd=function(t){var U;return t&&t.state?(U=t.state.status)!==p&&U!==69&&U!==73&&U!==91&&U!==103&&U!==T&&U!==666?Q(t,y):(t.state=null,U===T?Q(t,-3):o):y},d.deflateSetDictionary=function(t,U){var B,_,f,S,M,Z,z,K,J=U.length;if(!t||!t.state||(S=(B=t.state).wrap)===2||S===1&&B.status!==p||B.lookahead)return y;for(S===1&&(t.adler=n(t.adler,U,J,0)),B.wrap=0,J>=B.w_size&&(S===0&&(et(B.head),B.strstart=0,B.block_start=0,B.insert=0),K=new u.Buf8(B.w_size),u.arraySet(K,U,J-B.w_size,B.w_size,0),U=K,J=B.w_size),M=t.avail_in,Z=t.next_in,z=t.input,t.avail_in=J,t.next_in=0,t.input=U,at(B);B.lookahead>=l;){for(_=B.strstart,f=B.lookahead-(l-1);B.ins_h=(B.ins_h<<B.hash_shift^B.window[_+l-1])&B.hash_mask,B.prev[_&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=_,_++,--f;);B.strstart=_,B.lookahead=l-1,at(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=l-1,B.match_available=0,t.next_in=Z,t.input=z,t.avail_in=M,B.wrap=S,o},d.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,k,d){k.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,k,d){k.exports=function(a,u){var i,n,g,x,v,w,o,y,s,c,h,m,C,D,I,W,L,b,l,A,H,p,T,e,j;i=a.state,n=a.next_in,e=a.input,g=n+(a.avail_in-5),x=a.next_out,j=a.output,v=x-(u-a.avail_out),w=x+(a.avail_out-257),o=i.dmax,y=i.wsize,s=i.whave,c=i.wnext,h=i.window,m=i.hold,C=i.bits,D=i.lencode,I=i.distcode,W=(1<<i.lenbits)-1,L=(1<<i.distbits)-1;t:do{C<15&&(m+=e[n++]<<C,C+=8,m+=e[n++]<<C,C+=8),b=D[m&W];e:for(;;){if(m>>>=l=b>>>24,C-=l,(l=b>>>16&255)===0)j[x++]=65535&b;else{if(!(16&l)){if(!(64&l)){b=D[(65535&b)+(m&(1<<l)-1)];continue e}if(32&l){i.mode=12;break t}a.msg="invalid literal/length code",i.mode=30;break t}A=65535&b,(l&=15)&&(C<l&&(m+=e[n++]<<C,C+=8),A+=m&(1<<l)-1,m>>>=l,C-=l),C<15&&(m+=e[n++]<<C,C+=8,m+=e[n++]<<C,C+=8),b=I[m&L];r:for(;;){if(m>>>=l=b>>>24,C-=l,!(16&(l=b>>>16&255))){if(!(64&l)){b=I[(65535&b)+(m&(1<<l)-1)];continue r}a.msg="invalid distance code",i.mode=30;break t}if(H=65535&b,C<(l&=15)&&(m+=e[n++]<<C,(C+=8)<l&&(m+=e[n++]<<C,C+=8)),o<(H+=m&(1<<l)-1)){a.msg="invalid distance too far back",i.mode=30;break t}if(m>>>=l,C-=l,(l=x-v)<H){if(s<(l=H-l)&&i.sane){a.msg="invalid distance too far back",i.mode=30;break t}if(T=h,(p=0)===c){if(p+=y-l,l<A){for(A-=l;j[x++]=h[p++],--l;);p=x-H,T=j}}else if(c<l){if(p+=y+c-l,(l-=c)<A){for(A-=l;j[x++]=h[p++],--l;);if(p=0,c<A){for(A-=l=c;j[x++]=h[p++],--l;);p=x-H,T=j}}}else if(p+=c-l,l<A){for(A-=l;j[x++]=h[p++],--l;);p=x-H,T=j}for(;2<A;)j[x++]=T[p++],j[x++]=T[p++],j[x++]=T[p++],A-=3;A&&(j[x++]=T[p++],1<A&&(j[x++]=T[p++]))}else{for(p=x-H;j[x++]=j[p++],j[x++]=j[p++],j[x++]=j[p++],2<(A-=3););A&&(j[x++]=j[p++],1<A&&(j[x++]=j[p++]))}break}}break}}while(n<g&&x<w);n-=A=C>>3,m&=(1<<(C-=A<<3))-1,a.next_in=n,a.next_out=x,a.avail_in=n<g?g-n+5:5-(n-g),a.avail_out=x<w?w-x+257:257-(x-w),i.hold=m,i.bits=C}},{}],49:[function(r,k,d){var a=r("../utils/common"),u=r("./adler32"),i=r("./crc32"),n=r("./inffast"),g=r("./inftrees"),x=1,v=2,w=0,o=-2,y=1,s=852,c=592;function h(p){return(p>>>24&255)+(p>>>8&65280)+((65280&p)<<8)+((255&p)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(p){var T;return p&&p.state?(T=p.state,p.total_in=p.total_out=T.total=0,p.msg="",T.wrap&&(p.adler=1&T.wrap),T.mode=y,T.last=0,T.havedict=0,T.dmax=32768,T.head=null,T.hold=0,T.bits=0,T.lencode=T.lendyn=new a.Buf32(s),T.distcode=T.distdyn=new a.Buf32(c),T.sane=1,T.back=-1,w):o}function D(p){var T;return p&&p.state?((T=p.state).wsize=0,T.whave=0,T.wnext=0,C(p)):o}function I(p,T){var e,j;return p&&p.state?(j=p.state,T<0?(e=0,T=-T):(e=1+(T>>4),T<48&&(T&=15)),T&&(T<8||15<T)?o:(j.window!==null&&j.wbits!==T&&(j.window=null),j.wrap=e,j.wbits=T,D(p))):o}function W(p,T){var e,j;return p?(j=new m,(p.state=j).window=null,(e=I(p,T))!==w&&(p.state=null),e):o}var L,b,l=!0;function A(p){if(l){var T;for(L=new a.Buf32(512),b=new a.Buf32(32),T=0;T<144;)p.lens[T++]=8;for(;T<256;)p.lens[T++]=9;for(;T<280;)p.lens[T++]=7;for(;T<288;)p.lens[T++]=8;for(g(x,p.lens,0,288,L,0,p.work,{bits:9}),T=0;T<32;)p.lens[T++]=5;g(v,p.lens,0,32,b,0,p.work,{bits:5}),l=!1}p.lencode=L,p.lenbits=9,p.distcode=b,p.distbits=5}function H(p,T,e,j){var V,N=p.state;return N.window===null&&(N.wsize=1<<N.wbits,N.wnext=0,N.whave=0,N.window=new a.Buf8(N.wsize)),j>=N.wsize?(a.arraySet(N.window,T,e-N.wsize,N.wsize,0),N.wnext=0,N.whave=N.wsize):(j<(V=N.wsize-N.wnext)&&(V=j),a.arraySet(N.window,T,e-j,V,N.wnext),(j-=V)?(a.arraySet(N.window,T,e-j,j,0),N.wnext=j,N.whave=N.wsize):(N.wnext+=V,N.wnext===N.wsize&&(N.wnext=0),N.whave<N.wsize&&(N.whave+=V))),0}d.inflateReset=D,d.inflateReset2=I,d.inflateResetKeep=C,d.inflateInit=function(p){return W(p,15)},d.inflateInit2=W,d.inflate=function(p,T){var e,j,V,N,Q,P,et,F,E,X,Y,q,at,lt,rt,G,nt,it,ht,ot,t,U,B,_,f=0,S=new a.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!p||!p.state||!p.output||!p.input&&p.avail_in!==0)return o;(e=p.state).mode===12&&(e.mode=13),Q=p.next_out,V=p.output,et=p.avail_out,N=p.next_in,j=p.input,P=p.avail_in,F=e.hold,E=e.bits,X=P,Y=et,U=w;t:for(;;)switch(e.mode){case y:if(e.wrap===0){e.mode=13;break}for(;E<16;){if(P===0)break t;P--,F+=j[N++]<<E,E+=8}if(2&e.wrap&&F===35615){S[e.check=0]=255&F,S[1]=F>>>8&255,e.check=i(e.check,S,2,0),E=F=0,e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&F)<<8)+(F>>8))%31){p.msg="incorrect header check",e.mode=30;break}if((15&F)!=8){p.msg="unknown compression method",e.mode=30;break}if(E-=4,t=8+(15&(F>>>=4)),e.wbits===0)e.wbits=t;else if(t>e.wbits){p.msg="invalid window size",e.mode=30;break}e.dmax=1<<t,p.adler=e.check=1,e.mode=512&F?10:12,E=F=0;break;case 2:for(;E<16;){if(P===0)break t;P--,F+=j[N++]<<E,E+=8}if(e.flags=F,(255&e.flags)!=8){p.msg="unknown compression method",e.mode=30;break}if(57344&e.flags){p.msg="unknown header flags set",e.mode=30;break}e.head&&(e.head.text=F>>8&1),512&e.flags&&(S[0]=255&F,S[1]=F>>>8&255,e.check=i(e.check,S,2,0)),E=F=0,e.mode=3;case 3:for(;E<32;){if(P===0)break t;P--,F+=j[N++]<<E,E+=8}e.head&&(e.head.time=F),512&e.flags&&(S[0]=255&F,S[1]=F>>>8&255,S[2]=F>>>16&255,S[3]=F>>>24&255,e.check=i(e.check,S,4,0)),E=F=0,e.mode=4;case 4:for(;E<16;){if(P===0)break t;P--,F+=j[N++]<<E,E+=8}e.head&&(e.head.xflags=255&F,e.head.os=F>>8),512&e.flags&&(S[0]=255&F,S[1]=F>>>8&255,e.check=i(e.check,S,2,0)),E=F=0,e.mode=5;case 5:if(1024&e.flags){for(;E<16;){if(P===0)break t;P--,F+=j[N++]<<E,E+=8}e.length=F,e.head&&(e.head.extra_len=F),512&e.flags&&(S[0]=255&F,S[1]=F>>>8&255,e.check=i(e.check,S,2,0)),E=F=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&(P<(q=e.length)&&(q=P),q&&(e.head&&(t=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),a.arraySet(e.head.extra,j,N,q,t)),512&e.flags&&(e.check=i(e.check,j,q,N)),P-=q,N+=q,e.length-=q),e.length))break t;e.length=0,e.mode=7;case 7:if(2048&e.flags){if(P===0)break t;for(q=0;t=j[N+q++],e.head&&t&&e.length<65536&&(e.head.name+=String.fromCharCode(t)),t&&q<P;);if(512&e.flags&&(e.check=i(e.check,j,q,N)),P-=q,N+=q,t)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=8;case 8:if(4096&e.flags){if(P===0)break t;for(q=0;t=j[N+q++],e.head&&t&&e.length<65536&&(e.head.comment+=String.fromCharCode(t)),t&&q<P;);if(512&e.flags&&(e.check=i(e.check,j,q,N)),P-=q,N+=q,t)break t}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;E<16;){if(P===0)break t;P--,F+=j[N++]<<E,E+=8}if(F!==(65535&e.check)){p.msg="header crc mismatch",e.mode=30;break}E=F=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),p.adler=e.check=0,e.mode=12;break;case 10:for(;E<32;){if(P===0)break t;P--,F+=j[N++]<<E,E+=8}p.adler=e.check=h(F),E=F=0,e.mode=11;case 11:if(e.havedict===0)return p.next_out=Q,p.avail_out=et,p.next_in=N,p.avail_in=P,e.hold=F,e.bits=E,2;p.adler=e.check=1,e.mode=12;case 12:if(T===5||T===6)break t;case 13:if(e.last){F>>>=7&E,E-=7&E,e.mode=27;break}for(;E<3;){if(P===0)break t;P--,F+=j[N++]<<E,E+=8}switch(e.last=1&F,E-=1,3&(F>>>=1)){case 0:e.mode=14;break;case 1:if(A(e),e.mode=20,T!==6)break;F>>>=2,E-=2;break t;case 2:e.mode=17;break;case 3:p.msg="invalid block type",e.mode=30}F>>>=2,E-=2;break;case 14:for(F>>>=7&E,E-=7&E;E<32;){if(P===0)break t;P--,F+=j[N++]<<E,E+=8}if((65535&F)!=(F>>>16^65535)){p.msg="invalid stored block lengths",e.mode=30;break}if(e.length=65535&F,E=F=0,e.mode=15,T===6)break t;case 15:e.mode=16;case 16:if(q=e.length){if(P<q&&(q=P),et<q&&(q=et),q===0)break t;a.arraySet(V,j,N,q,Q),P-=q,N+=q,et-=q,Q+=q,e.length-=q;break}e.mode=12;break;case 17:for(;E<14;){if(P===0)break t;P--,F+=j[N++]<<E,E+=8}if(e.nlen=257+(31&F),F>>>=5,E-=5,e.ndist=1+(31&F),F>>>=5,E-=5,e.ncode=4+(15&F),F>>>=4,E-=4,286<e.nlen||30<e.ndist){p.msg="too many length or distance symbols",e.mode=30;break}e.have=0,e.mode=18;case 18:for(;e.have<e.ncode;){for(;E<3;){if(P===0)break t;P--,F+=j[N++]<<E,E+=8}e.lens[M[e.have++]]=7&F,F>>>=3,E-=3}for(;e.have<19;)e.lens[M[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,B={bits:e.lenbits},U=g(0,e.lens,0,19,e.lencode,0,e.work,B),e.lenbits=B.bits,U){p.msg="invalid code lengths set",e.mode=30;break}e.have=0,e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;G=(f=e.lencode[F&(1<<e.lenbits)-1])>>>16&255,nt=65535&f,!((rt=f>>>24)<=E);){if(P===0)break t;P--,F+=j[N++]<<E,E+=8}if(nt<16)F>>>=rt,E-=rt,e.lens[e.have++]=nt;else{if(nt===16){for(_=rt+2;E<_;){if(P===0)break t;P--,F+=j[N++]<<E,E+=8}if(F>>>=rt,E-=rt,e.have===0){p.msg="invalid bit length repeat",e.mode=30;break}t=e.lens[e.have-1],q=3+(3&F),F>>>=2,E-=2}else if(nt===17){for(_=rt+3;E<_;){if(P===0)break t;P--,F+=j[N++]<<E,E+=8}E-=rt,t=0,q=3+(7&(F>>>=rt)),F>>>=3,E-=3}else{for(_=rt+7;E<_;){if(P===0)break t;P--,F+=j[N++]<<E,E+=8}E-=rt,t=0,q=11+(127&(F>>>=rt)),F>>>=7,E-=7}if(e.have+q>e.nlen+e.ndist){p.msg="invalid bit length repeat",e.mode=30;break}for(;q--;)e.lens[e.have++]=t}}if(e.mode===30)break;if(e.lens[256]===0){p.msg="invalid code -- missing end-of-block",e.mode=30;break}if(e.lenbits=9,B={bits:e.lenbits},U=g(x,e.lens,0,e.nlen,e.lencode,0,e.work,B),e.lenbits=B.bits,U){p.msg="invalid literal/lengths set",e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,B={bits:e.distbits},U=g(v,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,B),e.distbits=B.bits,U){p.msg="invalid distances set",e.mode=30;break}if(e.mode=20,T===6)break t;case 20:e.mode=21;case 21:if(6<=P&&258<=et){p.next_out=Q,p.avail_out=et,p.next_in=N,p.avail_in=P,e.hold=F,e.bits=E,n(p,Y),Q=p.next_out,V=p.output,et=p.avail_out,N=p.next_in,j=p.input,P=p.avail_in,F=e.hold,E=e.bits,e.mode===12&&(e.back=-1);break}for(e.back=0;G=(f=e.lencode[F&(1<<e.lenbits)-1])>>>16&255,nt=65535&f,!((rt=f>>>24)<=E);){if(P===0)break t;P--,F+=j[N++]<<E,E+=8}if(G&&!(240&G)){for(it=rt,ht=G,ot=nt;G=(f=e.lencode[ot+((F&(1<<it+ht)-1)>>it)])>>>16&255,nt=65535&f,!(it+(rt=f>>>24)<=E);){if(P===0)break t;P--,F+=j[N++]<<E,E+=8}F>>>=it,E-=it,e.back+=it}if(F>>>=rt,E-=rt,e.back+=rt,e.length=nt,G===0){e.mode=26;break}if(32&G){e.back=-1,e.mode=12;break}if(64&G){p.msg="invalid literal/length code",e.mode=30;break}e.extra=15&G,e.mode=22;case 22:if(e.extra){for(_=e.extra;E<_;){if(P===0)break t;P--,F+=j[N++]<<E,E+=8}e.length+=F&(1<<e.extra)-1,F>>>=e.extra,E-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=23;case 23:for(;G=(f=e.distcode[F&(1<<e.distbits)-1])>>>16&255,nt=65535&f,!((rt=f>>>24)<=E);){if(P===0)break t;P--,F+=j[N++]<<E,E+=8}if(!(240&G)){for(it=rt,ht=G,ot=nt;G=(f=e.distcode[ot+((F&(1<<it+ht)-1)>>it)])>>>16&255,nt=65535&f,!(it+(rt=f>>>24)<=E);){if(P===0)break t;P--,F+=j[N++]<<E,E+=8}F>>>=it,E-=it,e.back+=it}if(F>>>=rt,E-=rt,e.back+=rt,64&G){p.msg="invalid distance code",e.mode=30;break}e.offset=nt,e.extra=15&G,e.mode=24;case 24:if(e.extra){for(_=e.extra;E<_;){if(P===0)break t;P--,F+=j[N++]<<E,E+=8}e.offset+=F&(1<<e.extra)-1,F>>>=e.extra,E-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){p.msg="invalid distance too far back",e.mode=30;break}e.mode=25;case 25:if(et===0)break t;if(q=Y-et,e.offset>q){if((q=e.offset-q)>e.whave&&e.sane){p.msg="invalid distance too far back",e.mode=30;break}at=q>e.wnext?(q-=e.wnext,e.wsize-q):e.wnext-q,q>e.length&&(q=e.length),lt=e.window}else lt=V,at=Q-e.offset,q=e.length;for(et<q&&(q=et),et-=q,e.length-=q;V[Q++]=lt[at++],--q;);e.length===0&&(e.mode=21);break;case 26:if(et===0)break t;V[Q++]=e.length,et--,e.mode=21;break;case 27:if(e.wrap){for(;E<32;){if(P===0)break t;P--,F|=j[N++]<<E,E+=8}if(Y-=et,p.total_out+=Y,e.total+=Y,Y&&(p.adler=e.check=e.flags?i(e.check,V,Y,Q-Y):u(e.check,V,Y,Q-Y)),Y=et,(e.flags?F:h(F))!==e.check){p.msg="incorrect data check",e.mode=30;break}E=F=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;E<32;){if(P===0)break t;P--,F+=j[N++]<<E,E+=8}if(F!==(4294967295&e.total)){p.msg="incorrect length check",e.mode=30;break}E=F=0}e.mode=29;case 29:U=1;break t;case 30:U=-3;break t;case 31:return-4;case 32:default:return o}return p.next_out=Q,p.avail_out=et,p.next_in=N,p.avail_in=P,e.hold=F,e.bits=E,(e.wsize||Y!==p.avail_out&&e.mode<30&&(e.mode<27||T!==4))&&H(p,p.output,p.next_out,Y-p.avail_out)?(e.mode=31,-4):(X-=p.avail_in,Y-=p.avail_out,p.total_in+=X,p.total_out+=Y,e.total+=Y,e.wrap&&Y&&(p.adler=e.check=e.flags?i(e.check,V,Y,p.next_out-Y):u(e.check,V,Y,p.next_out-Y)),p.data_type=e.bits+(e.last?64:0)+(e.mode===12?128:0)+(e.mode===20||e.mode===15?256:0),(X==0&&Y===0||T===4)&&U===w&&(U=-5),U)},d.inflateEnd=function(p){if(!p||!p.state)return o;var T=p.state;return T.window&&(T.window=null),p.state=null,w},d.inflateGetHeader=function(p,T){var e;return p&&p.state&&2&(e=p.state).wrap?((e.head=T).done=!1,w):o},d.inflateSetDictionary=function(p,T){var e,j=T.length;return p&&p.state?(e=p.state).wrap!==0&&e.mode!==11?o:e.mode===11&&u(1,T,j,0)!==e.check?-3:H(p,T,j,j)?(e.mode=31,-4):(e.havedict=1,w):o},d.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,k,d){var a=r("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],n=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];k.exports=function(x,v,w,o,y,s,c,h){var m,C,D,I,W,L,b,l,A,H=h.bits,p=0,T=0,e=0,j=0,V=0,N=0,Q=0,P=0,et=0,F=0,E=null,X=0,Y=new a.Buf16(16),q=new a.Buf16(16),at=null,lt=0;for(p=0;p<=15;p++)Y[p]=0;for(T=0;T<o;T++)Y[v[w+T]]++;for(V=H,j=15;1<=j&&Y[j]===0;j--);if(j<V&&(V=j),j===0)return y[s++]=20971520,y[s++]=20971520,h.bits=1,0;for(e=1;e<j&&Y[e]===0;e++);for(V<e&&(V=e),p=P=1;p<=15;p++)if(P<<=1,(P-=Y[p])<0)return-1;if(0<P&&(x===0||j!==1))return-1;for(q[1]=0,p=1;p<15;p++)q[p+1]=q[p]+Y[p];for(T=0;T<o;T++)v[w+T]!==0&&(c[q[v[w+T]]++]=T);if(L=x===0?(E=at=c,19):x===1?(E=u,X-=257,at=i,lt-=257,256):(E=n,at=g,-1),p=e,W=s,Q=T=F=0,D=-1,I=(et=1<<(N=V))-1,x===1&&852<et||x===2&&592<et)return 1;for(;;){for(b=p-Q,A=c[T]<L?(l=0,c[T]):c[T]>L?(l=at[lt+c[T]],E[X+c[T]]):(l=96,0),m=1<<p-Q,e=C=1<<N;y[W+(F>>Q)+(C-=m)]=b<<24|l<<16|A|0,C!==0;);for(m=1<<p-1;F&m;)m>>=1;if(m!==0?(F&=m-1,F+=m):F=0,T++,--Y[p]==0){if(p===j)break;p=v[w+c[T]]}if(V<p&&(F&I)!==D){for(Q===0&&(Q=V),W+=e,P=1<<(N=p-Q);N+Q<j&&!((P-=Y[N+Q])<=0);)N++,P<<=1;if(et+=1<<N,x===1&&852<et||x===2&&592<et)return 1;y[D=F&I]=V<<24|N<<16|W-s|0}}return F!==0&&(y[W+F]=p-Q<<24|64<<16|0),h.bits=V,0}},{"../utils/common":41}],51:[function(r,k,d){k.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,k,d){var a=r("../utils/common"),u=0,i=1;function n(f){for(var S=f.length;0<=--S;)f[S]=0}var g=0,x=29,v=256,w=v+1+x,o=30,y=19,s=2*w+1,c=15,h=16,m=7,C=256,D=16,I=17,W=18,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],b=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(2*(w+2));n(H);var p=new Array(2*o);n(p);var T=new Array(512);n(T);var e=new Array(256);n(e);var j=new Array(x);n(j);var V,N,Q,P=new Array(o);function et(f,S,M,Z,z){this.static_tree=f,this.extra_bits=S,this.extra_base=M,this.elems=Z,this.max_length=z,this.has_stree=f&&f.length}function F(f,S){this.dyn_tree=f,this.max_code=0,this.stat_desc=S}function E(f){return f<256?T[f]:T[256+(f>>>7)]}function X(f,S){f.pending_buf[f.pending++]=255&S,f.pending_buf[f.pending++]=S>>>8&255}function Y(f,S,M){f.bi_valid>h-M?(f.bi_buf|=S<<f.bi_valid&65535,X(f,f.bi_buf),f.bi_buf=S>>h-f.bi_valid,f.bi_valid+=M-h):(f.bi_buf|=S<<f.bi_valid&65535,f.bi_valid+=M)}function q(f,S,M){Y(f,M[2*S],M[2*S+1])}function at(f,S){for(var M=0;M|=1&f,f>>>=1,M<<=1,0<--S;);return M>>>1}function lt(f,S,M){var Z,z,K=new Array(c+1),J=0;for(Z=1;Z<=c;Z++)K[Z]=J=J+M[Z-1]<<1;for(z=0;z<=S;z++){var $=f[2*z+1];$!==0&&(f[2*z]=at(K[$]++,$))}}function rt(f){var S;for(S=0;S<w;S++)f.dyn_ltree[2*S]=0;for(S=0;S<o;S++)f.dyn_dtree[2*S]=0;for(S=0;S<y;S++)f.bl_tree[2*S]=0;f.dyn_ltree[2*C]=1,f.opt_len=f.static_len=0,f.last_lit=f.matches=0}function G(f){8<f.bi_valid?X(f,f.bi_buf):0<f.bi_valid&&(f.pending_buf[f.pending++]=f.bi_buf),f.bi_buf=0,f.bi_valid=0}function nt(f,S,M,Z){var z=2*S,K=2*M;return f[z]<f[K]||f[z]===f[K]&&Z[S]<=Z[M]}function it(f,S,M){for(var Z=f.heap[M],z=M<<1;z<=f.heap_len&&(z<f.heap_len&&nt(S,f.heap[z+1],f.heap[z],f.depth)&&z++,!nt(S,Z,f.heap[z],f.depth));)f.heap[M]=f.heap[z],M=z,z<<=1;f.heap[M]=Z}function ht(f,S,M){var Z,z,K,J,$=0;if(f.last_lit!==0)for(;Z=f.pending_buf[f.d_buf+2*$]<<8|f.pending_buf[f.d_buf+2*$+1],z=f.pending_buf[f.l_buf+$],$++,Z===0?q(f,z,S):(q(f,(K=e[z])+v+1,S),(J=L[K])!==0&&Y(f,z-=j[K],J),q(f,K=E(--Z),M),(J=b[K])!==0&&Y(f,Z-=P[K],J)),$<f.last_lit;);q(f,C,S)}function ot(f,S){var M,Z,z,K=S.dyn_tree,J=S.stat_desc.static_tree,$=S.stat_desc.has_stree,tt=S.stat_desc.elems,ut=-1;for(f.heap_len=0,f.heap_max=s,M=0;M<tt;M++)K[2*M]!==0?(f.heap[++f.heap_len]=ut=M,f.depth[M]=0):K[2*M+1]=0;for(;f.heap_len<2;)K[2*(z=f.heap[++f.heap_len]=ut<2?++ut:0)]=1,f.depth[z]=0,f.opt_len--,$&&(f.static_len-=J[2*z+1]);for(S.max_code=ut,M=f.heap_len>>1;1<=M;M--)it(f,K,M);for(z=tt;M=f.heap[1],f.heap[1]=f.heap[f.heap_len--],it(f,K,1),Z=f.heap[1],f.heap[--f.heap_max]=M,f.heap[--f.heap_max]=Z,K[2*z]=K[2*M]+K[2*Z],f.depth[z]=(f.depth[M]>=f.depth[Z]?f.depth[M]:f.depth[Z])+1,K[2*M+1]=K[2*Z+1]=z,f.heap[1]=z++,it(f,K,1),2<=f.heap_len;);f.heap[--f.heap_max]=f.heap[1],function(st,ct){var yt,dt,pt,ft,mt,St,bt=ct.dyn_tree,Jt=ct.max_code,ge=ct.stat_desc.static_tree,ve=ct.stat_desc.has_stree,ye=ct.stat_desc.extra_bits,Vt=ct.stat_desc.extra_base,Tt=ct.stat_desc.max_length,Nt=0;for(ft=0;ft<=c;ft++)st.bl_count[ft]=0;for(bt[2*st.heap[st.heap_max]+1]=0,yt=st.heap_max+1;yt<s;yt++)Tt<(ft=bt[2*bt[2*(dt=st.heap[yt])+1]+1]+1)&&(ft=Tt,Nt++),bt[2*dt+1]=ft,Jt<dt||(st.bl_count[ft]++,mt=0,Vt<=dt&&(mt=ye[dt-Vt]),St=bt[2*dt],st.opt_len+=St*(ft+mt),ve&&(st.static_len+=St*(ge[2*dt+1]+mt)));if(Nt!==0){do{for(ft=Tt-1;st.bl_count[ft]===0;)ft--;st.bl_count[ft]--,st.bl_count[ft+1]+=2,st.bl_count[Tt]--,Nt-=2}while(0<Nt);for(ft=Tt;ft!==0;ft--)for(dt=st.bl_count[ft];dt!==0;)Jt<(pt=st.heap[--yt])||(bt[2*pt+1]!==ft&&(st.opt_len+=(ft-bt[2*pt+1])*bt[2*pt],bt[2*pt+1]=ft),dt--)}}(f,S),lt(K,ut,f.bl_count)}function t(f,S,M){var Z,z,K=-1,J=S[1],$=0,tt=7,ut=4;for(J===0&&(tt=138,ut=3),S[2*(M+1)+1]=65535,Z=0;Z<=M;Z++)z=J,J=S[2*(Z+1)+1],++$<tt&&z===J||($<ut?f.bl_tree[2*z]+=$:z!==0?(z!==K&&f.bl_tree[2*z]++,f.bl_tree[2*D]++):$<=10?f.bl_tree[2*I]++:f.bl_tree[2*W]++,K=z,ut=($=0)===J?(tt=138,3):z===J?(tt=6,3):(tt=7,4))}function U(f,S,M){var Z,z,K=-1,J=S[1],$=0,tt=7,ut=4;for(J===0&&(tt=138,ut=3),Z=0;Z<=M;Z++)if(z=J,J=S[2*(Z+1)+1],!(++$<tt&&z===J)){if($<ut)for(;q(f,z,f.bl_tree),--$!=0;);else z!==0?(z!==K&&(q(f,z,f.bl_tree),$--),q(f,D,f.bl_tree),Y(f,$-3,2)):$<=10?(q(f,I,f.bl_tree),Y(f,$-3,3)):(q(f,W,f.bl_tree),Y(f,$-11,7));K=z,ut=($=0)===J?(tt=138,3):z===J?(tt=6,3):(tt=7,4)}}n(P);var B=!1;function _(f,S,M,Z){Y(f,(g<<1)+(Z?1:0),3),function(z,K,J,$){G(z),$&&(X(z,J),X(z,~J)),a.arraySet(z.pending_buf,z.window,K,J,z.pending),z.pending+=J}(f,S,M,!0)}d._tr_init=function(f){B||(function(){var S,M,Z,z,K,J=new Array(c+1);for(z=Z=0;z<x-1;z++)for(j[z]=Z,S=0;S<1<<L[z];S++)e[Z++]=z;for(e[Z-1]=z,z=K=0;z<16;z++)for(P[z]=K,S=0;S<1<<b[z];S++)T[K++]=z;for(K>>=7;z<o;z++)for(P[z]=K<<7,S=0;S<1<<b[z]-7;S++)T[256+K++]=z;for(M=0;M<=c;M++)J[M]=0;for(S=0;S<=143;)H[2*S+1]=8,S++,J[8]++;for(;S<=255;)H[2*S+1]=9,S++,J[9]++;for(;S<=279;)H[2*S+1]=7,S++,J[7]++;for(;S<=287;)H[2*S+1]=8,S++,J[8]++;for(lt(H,w+1,J),S=0;S<o;S++)p[2*S+1]=5,p[2*S]=at(S,5);V=new et(H,L,v+1,w,c),N=new et(p,b,0,o,c),Q=new et(new Array(0),l,0,y,m)}(),B=!0),f.l_desc=new F(f.dyn_ltree,V),f.d_desc=new F(f.dyn_dtree,N),f.bl_desc=new F(f.bl_tree,Q),f.bi_buf=0,f.bi_valid=0,rt(f)},d._tr_stored_block=_,d._tr_flush_block=function(f,S,M,Z){var z,K,J=0;0<f.level?(f.strm.data_type===2&&(f.strm.data_type=function($){var tt,ut=4093624447;for(tt=0;tt<=31;tt++,ut>>>=1)if(1&ut&&$.dyn_ltree[2*tt]!==0)return u;if($.dyn_ltree[18]!==0||$.dyn_ltree[20]!==0||$.dyn_ltree[26]!==0)return i;for(tt=32;tt<v;tt++)if($.dyn_ltree[2*tt]!==0)return i;return u}(f)),ot(f,f.l_desc),ot(f,f.d_desc),J=function($){var tt;for(t($,$.dyn_ltree,$.l_desc.max_code),t($,$.dyn_dtree,$.d_desc.max_code),ot($,$.bl_desc),tt=y-1;3<=tt&&$.bl_tree[2*A[tt]+1]===0;tt--);return $.opt_len+=3*(tt+1)+5+5+4,tt}(f),z=f.opt_len+3+7>>>3,(K=f.static_len+3+7>>>3)<=z&&(z=K)):z=K=M+5,M+4<=z&&S!==-1?_(f,S,M,Z):f.strategy===4||K===z?(Y(f,2+(Z?1:0),3),ht(f,H,p)):(Y(f,4+(Z?1:0),3),function($,tt,ut,st){var ct;for(Y($,tt-257,5),Y($,ut-1,5),Y($,st-4,4),ct=0;ct<st;ct++)Y($,$.bl_tree[2*A[ct]+1],3);U($,$.dyn_ltree,tt-1),U($,$.dyn_dtree,ut-1)}(f,f.l_desc.max_code+1,f.d_desc.max_code+1,J+1),ht(f,f.dyn_ltree,f.dyn_dtree)),rt(f),Z&&G(f)},d._tr_tally=function(f,S,M){return f.pending_buf[f.d_buf+2*f.last_lit]=S>>>8&255,f.pending_buf[f.d_buf+2*f.last_lit+1]=255&S,f.pending_buf[f.l_buf+f.last_lit]=255&M,f.last_lit++,S===0?f.dyn_ltree[2*M]++:(f.matches++,S--,f.dyn_ltree[2*(e[M]+v+1)]++,f.dyn_dtree[2*E(S)]++),f.last_lit===f.lit_bufsize-1},d._tr_align=function(f){Y(f,2,3),q(f,C,H),function(S){S.bi_valid===16?(X(S,S.bi_buf),S.bi_buf=0,S.bi_valid=0):8<=S.bi_valid&&(S.pending_buf[S.pending++]=255&S.bi_buf,S.bi_buf>>=8,S.bi_valid-=8)}(f)}},{"../utils/common":41}],53:[function(r,k,d){k.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,k,d){(function(a){(function(u,i){if(!u.setImmediate){var n,g,x,v,w=1,o={},y=!1,s=u.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(u);c=c&&c.setTimeout?c:u,n={}.toString.call(u.process)==="[object process]"?function(D){process.nextTick(function(){m(D)})}:function(){if(u.postMessage&&!u.importScripts){var D=!0,I=u.onmessage;return u.onmessage=function(){D=!1},u.postMessage("","*"),u.onmessage=I,D}}()?(v="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",C,!1):u.attachEvent("onmessage",C),function(D){u.postMessage(v+D,"*")}):u.MessageChannel?((x=new MessageChannel).port1.onmessage=function(D){m(D.data)},function(D){x.port2.postMessage(D)}):s&&"onreadystatechange"in s.createElement("script")?(g=s.documentElement,function(D){var I=s.createElement("script");I.onreadystatechange=function(){m(D),I.onreadystatechange=null,g.removeChild(I),I=null},g.appendChild(I)}):function(D){setTimeout(m,0,D)},c.setImmediate=function(D){typeof D!="function"&&(D=new Function(""+D));for(var I=new Array(arguments.length-1),W=0;W<I.length;W++)I[W]=arguments[W+1];var L={callback:D,args:I};return o[w]=L,n(w),w++},c.clearImmediate=h}function h(D){delete o[D]}function m(D){if(y)setTimeout(m,0,D);else{var I=o[D];if(I){y=!0;try{(function(W){var L=W.callback,b=W.args;switch(b.length){case 0:L();break;case 1:L(b[0]);break;case 2:L(b[0],b[1]);break;case 3:L(b[0],b[1],b[2]);break;default:L.apply(i,b)}})(I)}finally{h(D),y=!1}}}}function C(D){D.source===u&&typeof D.data=="string"&&D.data.indexOf(v)===0&&m(+D.data.slice(v.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Dt<"u"?Dt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(me);var We=me.exports;const Me=pe(We);var _e={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(R,O){(function(r,k){R.exports=k()})(Dt,function r(){var k=typeof self<"u"?self:typeof window<"u"?window:k!==void 0?k:{},d=!k.document&&!!k.postMessage,a=k.IS_PAPA_WORKER||!1,u={},i=0,n={parse:function(b,l){var A=(l=l||{}).dynamicTyping||!1;if(L(A)&&(l.dynamicTypingFunction=A,A={}),l.dynamicTyping=A,l.transform=!!L(l.transform)&&l.transform,l.worker&&n.WORKERS_SUPPORTED){var H=function(){if(!n.WORKERS_SUPPORTED)return!1;var T=(j=k.URL||k.webkitURL||null,V=r.toString(),n.BLOB_URL||(n.BLOB_URL=j.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",V,")();"],{type:"text/javascript"})))),e=new k.Worker(T),j,V;return e.onmessage=m,e.id=i++,u[e.id]=e}();return H.userStep=l.step,H.userChunk=l.chunk,H.userComplete=l.complete,H.userError=l.error,l.step=L(l.step),l.chunk=L(l.chunk),l.complete=L(l.complete),l.error=L(l.error),delete l.worker,void H.postMessage({input:b,config:l,workerId:H.id})}var p=null;return n.NODE_STREAM_INPUT,typeof b=="string"?(b=function(T){return T.charCodeAt(0)===65279?T.slice(1):T}(b),p=l.download?new v(l):new o(l)):b.readable===!0&&L(b.read)&&L(b.on)?p=new y(l):(k.File&&b instanceof File||b instanceof Object)&&(p=new w(l)),p.stream(b)},unparse:function(b,l){var A=!1,H=!0,p=",",T=`\r
`,e='"',j=e+e,V=!1,N=null,Q=!1;(function(){if(typeof l=="object"){if(typeof l.delimiter!="string"||n.BAD_DELIMITERS.filter(function(E){return l.delimiter.indexOf(E)!==-1}).length||(p=l.delimiter),(typeof l.quotes=="boolean"||typeof l.quotes=="function"||Array.isArray(l.quotes))&&(A=l.quotes),typeof l.skipEmptyLines!="boolean"&&typeof l.skipEmptyLines!="string"||(V=l.skipEmptyLines),typeof l.newline=="string"&&(T=l.newline),typeof l.quoteChar=="string"&&(e=l.quoteChar),typeof l.header=="boolean"&&(H=l.header),Array.isArray(l.columns)){if(l.columns.length===0)throw new Error("Option columns is empty");N=l.columns}l.escapeChar!==void 0&&(j=l.escapeChar+e),(typeof l.escapeFormulae=="boolean"||l.escapeFormulae instanceof RegExp)&&(Q=l.escapeFormulae instanceof RegExp?l.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var P=new RegExp(c(e),"g");if(typeof b=="string"&&(b=JSON.parse(b)),Array.isArray(b)){if(!b.length||Array.isArray(b[0]))return et(null,b,V);if(typeof b[0]=="object")return et(N||Object.keys(b[0]),b,V)}else if(typeof b=="object")return typeof b.data=="string"&&(b.data=JSON.parse(b.data)),Array.isArray(b.data)&&(b.fields||(b.fields=b.meta&&b.meta.fields||N),b.fields||(b.fields=Array.isArray(b.data[0])?b.fields:typeof b.data[0]=="object"?Object.keys(b.data[0]):[]),Array.isArray(b.data[0])||typeof b.data[0]=="object"||(b.data=[b.data])),et(b.fields||[],b.data||[],V);throw new Error("Unable to serialize unrecognized input");function et(E,X,Y){var q="";typeof E=="string"&&(E=JSON.parse(E)),typeof X=="string"&&(X=JSON.parse(X));var at=Array.isArray(E)&&0<E.length,lt=!Array.isArray(X[0]);if(at&&H){for(var rt=0;rt<E.length;rt++)0<rt&&(q+=p),q+=F(E[rt],rt);0<X.length&&(q+=T)}for(var G=0;G<X.length;G++){var nt=at?E.length:X[G].length,it=!1,ht=at?Object.keys(X[G]).length===0:X[G].length===0;if(Y&&!at&&(it=Y==="greedy"?X[G].join("").trim()==="":X[G].length===1&&X[G][0].length===0),Y==="greedy"&&at){for(var ot=[],t=0;t<nt;t++){var U=lt?E[t]:t;ot.push(X[G][U])}it=ot.join("").trim()===""}if(!it){for(var B=0;B<nt;B++){0<B&&!ht&&(q+=p);var _=at&&lt?E[B]:B;q+=F(X[G][_],B)}G<X.length-1&&(!Y||0<nt&&!ht)&&(q+=T)}}return q}function F(E,X){if(E==null)return"";if(E.constructor===Date)return JSON.stringify(E).slice(1,25);var Y=!1;Q&&typeof E=="string"&&Q.test(E)&&(E="'"+E,Y=!0);var q=E.toString().replace(P,j);return(Y=Y||A===!0||typeof A=="function"&&A(E,X)||Array.isArray(A)&&A[X]||function(at,lt){for(var rt=0;rt<lt.length;rt++)if(-1<at.indexOf(lt[rt]))return!0;return!1}(q,n.BAD_DELIMITERS)||-1<q.indexOf(p)||q.charAt(0)===" "||q.charAt(q.length-1)===" ")?e+q+e:q}}};if(n.RECORD_SEP="",n.UNIT_SEP="",n.BYTE_ORDER_MARK="\uFEFF",n.BAD_DELIMITERS=["\r",`
`,'"',n.BYTE_ORDER_MARK],n.WORKERS_SUPPORTED=!d&&!!k.Worker,n.NODE_STREAM_INPUT=1,n.LocalChunkSize=10485760,n.RemoteChunkSize=5242880,n.DefaultDelimiter=",",n.Parser=h,n.ParserHandle=s,n.NetworkStreamer=v,n.FileStreamer=w,n.StringStreamer=o,n.ReadableStreamStreamer=y,k.jQuery){var g=k.jQuery;g.fn.parse=function(b){var l=b.config||{},A=[];return this.each(function(T){if(!(g(this).prop("tagName").toUpperCase()==="INPUT"&&g(this).attr("type").toLowerCase()==="file"&&k.FileReader)||!this.files||this.files.length===0)return!0;for(var e=0;e<this.files.length;e++)A.push({file:this.files[e],inputElem:this,instanceConfig:g.extend({},l)})}),H(),this;function H(){if(A.length!==0){var T,e,j,V,N=A[0];if(L(b.before)){var Q=b.before(N.file,N.inputElem);if(typeof Q=="object"){if(Q.action==="abort")return T="AbortError",e=N.file,j=N.inputElem,V=Q.reason,void(L(b.error)&&b.error({name:T},e,j,V));if(Q.action==="skip")return void p();typeof Q.config=="object"&&(N.instanceConfig=g.extend(N.instanceConfig,Q.config))}else if(Q==="skip")return void p()}var P=N.instanceConfig.complete;N.instanceConfig.complete=function(et){L(P)&&P(et,N.file,N.inputElem),p()},n.parse(N.file,N.instanceConfig)}else L(b.complete)&&b.complete()}function p(){A.splice(0,1),H()}}}function x(b){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(l){var A=I(l);A.chunkSize=parseInt(A.chunkSize),l.step||l.chunk||(A.chunkSize=null),this._handle=new s(A),(this._handle.streamer=this)._config=A}).call(this,b),this.parseChunk=function(l,A){if(this.isFirstChunk&&L(this._config.beforeFirstChunk)){var H=this._config.beforeFirstChunk(l);H!==void 0&&(l=H)}this.isFirstChunk=!1,this._halted=!1;var p=this._partialLine+l;this._partialLine="";var T=this._handle.parse(p,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var e=T.meta.cursor;this._finished||(this._partialLine=p.substring(e-this._baseIndex),this._baseIndex=e),T&&T.data&&(this._rowCount+=T.data.length);var j=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(a)k.postMessage({results:T,workerId:n.WORKER_ID,finished:j});else if(L(this._config.chunk)&&!A){if(this._config.chunk(T,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);T=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(T.data),this._completeResults.errors=this._completeResults.errors.concat(T.errors),this._completeResults.meta=T.meta),this._completed||!j||!L(this._config.complete)||T&&T.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),j||T&&T.meta.paused||this._nextChunk(),T}this._halted=!0},this._sendError=function(l){L(this._config.error)?this._config.error(l):a&&this._config.error&&k.postMessage({workerId:n.WORKER_ID,error:l,finished:!1})}}function v(b){var l;(b=b||{}).chunkSize||(b.chunkSize=n.RemoteChunkSize),x.call(this,b),this._nextChunk=d?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(A){this._input=A,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(l=new XMLHttpRequest,this._config.withCredentials&&(l.withCredentials=this._config.withCredentials),d||(l.onload=W(this._chunkLoaded,this),l.onerror=W(this._chunkError,this)),l.open(this._config.downloadRequestBody?"POST":"GET",this._input,!d),this._config.downloadRequestHeaders){var A=this._config.downloadRequestHeaders;for(var H in A)l.setRequestHeader(H,A[H])}if(this._config.chunkSize){var p=this._start+this._config.chunkSize-1;l.setRequestHeader("Range","bytes="+this._start+"-"+p)}try{l.send(this._config.downloadRequestBody)}catch(T){this._chunkError(T.message)}d&&l.status===0&&this._chunkError()}},this._chunkLoaded=function(){l.readyState===4&&(l.status<200||400<=l.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:l.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(A){var H=A.getResponseHeader("Content-Range");return H===null?-1:parseInt(H.substring(H.lastIndexOf("/")+1))}(l),this.parseChunk(l.responseText)))},this._chunkError=function(A){var H=l.statusText||A;this._sendError(new Error(H))}}function w(b){var l,A;(b=b||{}).chunkSize||(b.chunkSize=n.LocalChunkSize),x.call(this,b);var H=typeof FileReader<"u";this.stream=function(p){this._input=p,A=p.slice||p.webkitSlice||p.mozSlice,H?((l=new FileReader).onload=W(this._chunkLoaded,this),l.onerror=W(this._chunkError,this)):l=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var p=this._input;if(this._config.chunkSize){var T=Math.min(this._start+this._config.chunkSize,this._input.size);p=A.call(p,this._start,T)}var e=l.readAsText(p,this._config.encoding);H||this._chunkLoaded({target:{result:e}})},this._chunkLoaded=function(p){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(p.target.result)},this._chunkError=function(){this._sendError(l.error)}}function o(b){var l;x.call(this,b=b||{}),this.stream=function(A){return l=A,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var A,H=this._config.chunkSize;return H?(A=l.substring(0,H),l=l.substring(H)):(A=l,l=""),this._finished=!l,this.parseChunk(A)}}}function y(b){x.call(this,b=b||{});var l=[],A=!0,H=!1;this.pause=function(){x.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){x.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(p){this._input=p,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){H&&l.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),l.length?this.parseChunk(l.shift()):A=!0},this._streamData=W(function(p){try{l.push(typeof p=="string"?p:p.toString(this._config.encoding)),A&&(A=!1,this._checkIsFinished(),this.parseChunk(l.shift()))}catch(T){this._streamError(T)}},this),this._streamError=W(function(p){this._streamCleanUp(),this._sendError(p)},this),this._streamEnd=W(function(){this._streamCleanUp(),H=!0,this._streamData("")},this),this._streamCleanUp=W(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function s(b){var l,A,H,p=Math.pow(2,53),T=-p,e=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,j=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,V=this,N=0,Q=0,P=!1,et=!1,F=[],E={data:[],errors:[],meta:{}};if(L(b.step)){var X=b.step;b.step=function(G){if(E=G,at())q();else{if(q(),E.data.length===0)return;N+=G.data.length,b.preview&&N>b.preview?A.abort():(E.data=E.data[0],X(E,V))}}}function Y(G){return b.skipEmptyLines==="greedy"?G.join("").trim()==="":G.length===1&&G[0].length===0}function q(){return E&&H&&(rt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+n.DefaultDelimiter+"'"),H=!1),b.skipEmptyLines&&(E.data=E.data.filter(function(G){return!Y(G)})),at()&&function(){if(!E)return;function G(it,ht){L(b.transformHeader)&&(it=b.transformHeader(it,ht)),F.push(it)}if(Array.isArray(E.data[0])){for(var nt=0;at()&&nt<E.data.length;nt++)E.data[nt].forEach(G);E.data.splice(0,1)}else E.data.forEach(G)}(),function(){if(!E||!b.header&&!b.dynamicTyping&&!b.transform)return E;function G(it,ht){var ot,t=b.header?{}:[];for(ot=0;ot<it.length;ot++){var U=ot,B=it[ot];b.header&&(U=ot>=F.length?"__parsed_extra":F[ot]),b.transform&&(B=b.transform(B,U)),B=lt(U,B),U==="__parsed_extra"?(t[U]=t[U]||[],t[U].push(B)):t[U]=B}return b.header&&(ot>F.length?rt("FieldMismatch","TooManyFields","Too many fields: expected "+F.length+" fields but parsed "+ot,Q+ht):ot<F.length&&rt("FieldMismatch","TooFewFields","Too few fields: expected "+F.length+" fields but parsed "+ot,Q+ht)),t}var nt=1;return!E.data.length||Array.isArray(E.data[0])?(E.data=E.data.map(G),nt=E.data.length):E.data=G(E.data,0),b.header&&E.meta&&(E.meta.fields=F),Q+=nt,E}()}function at(){return b.header&&F.length===0}function lt(G,nt){return it=G,b.dynamicTypingFunction&&b.dynamicTyping[it]===void 0&&(b.dynamicTyping[it]=b.dynamicTypingFunction(it)),(b.dynamicTyping[it]||b.dynamicTyping)===!0?nt==="true"||nt==="TRUE"||nt!=="false"&&nt!=="FALSE"&&(function(ht){if(e.test(ht)){var ot=parseFloat(ht);if(T<ot&&ot<p)return!0}return!1}(nt)?parseFloat(nt):j.test(nt)?new Date(nt):nt===""?null:nt):nt;var it}function rt(G,nt,it,ht){var ot={type:G,code:nt,message:it};ht!==void 0&&(ot.row=ht),E.errors.push(ot)}this.parse=function(G,nt,it){var ht=b.quoteChar||'"';if(b.newline||(b.newline=function(U,B){U=U.substring(0,1048576);var _=new RegExp(c(B)+"([^]*?)"+c(B),"gm"),f=(U=U.replace(_,"")).split("\r"),S=U.split(`
`),M=1<S.length&&S[0].length<f[0].length;if(f.length===1||M)return`
`;for(var Z=0,z=0;z<f.length;z++)f[z][0]===`
`&&Z++;return Z>=f.length/2?`\r
`:"\r"}(G,ht)),H=!1,b.delimiter)L(b.delimiter)&&(b.delimiter=b.delimiter(G),E.meta.delimiter=b.delimiter);else{var ot=function(U,B,_,f,S){var M,Z,z,K;S=S||[",","	","|",";",n.RECORD_SEP,n.UNIT_SEP];for(var J=0;J<S.length;J++){var $=S[J],tt=0,ut=0,st=0;z=void 0;for(var ct=new h({comments:f,delimiter:$,newline:B,preview:10}).parse(U),yt=0;yt<ct.data.length;yt++)if(_&&Y(ct.data[yt]))st++;else{var dt=ct.data[yt].length;ut+=dt,z!==void 0?0<dt&&(tt+=Math.abs(dt-z),z=dt):z=dt}0<ct.data.length&&(ut/=ct.data.length-st),(Z===void 0||tt<=Z)&&(K===void 0||K<ut)&&1.99<ut&&(Z=tt,M=$,K=ut)}return{successful:!!(b.delimiter=M),bestDelimiter:M}}(G,b.newline,b.skipEmptyLines,b.comments,b.delimitersToGuess);ot.successful?b.delimiter=ot.bestDelimiter:(H=!0,b.delimiter=n.DefaultDelimiter),E.meta.delimiter=b.delimiter}var t=I(b);return b.preview&&b.header&&t.preview++,l=G,A=new h(t),E=A.parse(l,nt,it),q(),P?{meta:{paused:!0}}:E||{meta:{paused:!1}}},this.paused=function(){return P},this.pause=function(){P=!0,A.abort(),l=L(b.chunk)?"":l.substring(A.getCharIndex())},this.resume=function(){V.streamer._halted?(P=!1,V.streamer.parseChunk(l,!0)):setTimeout(V.resume,3)},this.aborted=function(){return et},this.abort=function(){et=!0,A.abort(),E.meta.aborted=!0,L(b.complete)&&b.complete(E),l=""}}function c(b){return b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function h(b){var l,A=(b=b||{}).delimiter,H=b.newline,p=b.comments,T=b.step,e=b.preview,j=b.fastMode,V=l=b.quoteChar===void 0||b.quoteChar===null?'"':b.quoteChar;if(b.escapeChar!==void 0&&(V=b.escapeChar),(typeof A!="string"||-1<n.BAD_DELIMITERS.indexOf(A))&&(A=","),p===A)throw new Error("Comment character same as delimiter");p===!0?p="#":(typeof p!="string"||-1<n.BAD_DELIMITERS.indexOf(p))&&(p=!1),H!==`
`&&H!=="\r"&&H!==`\r
`&&(H=`
`);var N=0,Q=!1;this.parse=function(P,et,F){if(typeof P!="string")throw new Error("Input must be a string");var E=P.length,X=A.length,Y=H.length,q=p.length,at=L(T),lt=[],rt=[],G=[],nt=N=0;if(!P)return pt();if(b.header&&!et){var it=P.split(H)[0].split(A),ht=[],ot={},t=!1;for(var U in it){var B=it[U];L(b.transformHeader)&&(B=b.transformHeader(B,U));var _=B,f=ot[B]||0;for(0<f&&(t=!0,_=B+"_"+f),ot[B]=f+1;ht.includes(_);)_=_+"_"+f;ht.push(_)}if(t){var S=P.split(H);S[0]=ht.join(A),P=S.join(H)}}if(j||j!==!1&&P.indexOf(l)===-1){for(var M=P.split(H),Z=0;Z<M.length;Z++){if(G=M[Z],N+=G.length,Z!==M.length-1)N+=H.length;else if(F)return pt();if(!p||G.substring(0,q)!==p){if(at){if(lt=[],st(G.split(A)),ft(),Q)return pt()}else st(G.split(A));if(e&&e<=Z)return lt=lt.slice(0,e),pt(!0)}}return pt()}for(var z=P.indexOf(A,N),K=P.indexOf(H,N),J=new RegExp(c(V)+c(l),"g"),$=P.indexOf(l,N);;)if(P[N]!==l)if(p&&G.length===0&&P.substring(N,N+q)===p){if(K===-1)return pt();N=K+Y,K=P.indexOf(H,N),z=P.indexOf(A,N)}else if(z!==-1&&(z<K||K===-1))G.push(P.substring(N,z)),N=z+X,z=P.indexOf(A,N);else{if(K===-1)break;if(G.push(P.substring(N,K)),dt(K+Y),at&&(ft(),Q))return pt();if(e&&lt.length>=e)return pt(!0)}else for($=N,N++;;){if(($=P.indexOf(l,$+1))===-1)return F||rt.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:lt.length,index:N}),yt();if($===E-1)return yt(P.substring(N,$).replace(J,l));if(l!==V||P[$+1]!==V){if(l===V||$===0||P[$-1]!==V){z!==-1&&z<$+1&&(z=P.indexOf(A,$+1)),K!==-1&&K<$+1&&(K=P.indexOf(H,$+1));var tt=ct(K===-1?z:Math.min(z,K));if(P.substr($+1+tt,X)===A){G.push(P.substring(N,$).replace(J,l)),P[N=$+1+tt+X]!==l&&($=P.indexOf(l,N)),z=P.indexOf(A,N),K=P.indexOf(H,N);break}var ut=ct(K);if(P.substring($+1+ut,$+1+ut+Y)===H){if(G.push(P.substring(N,$).replace(J,l)),dt($+1+ut+Y),z=P.indexOf(A,N),$=P.indexOf(l,N),at&&(ft(),Q))return pt();if(e&&lt.length>=e)return pt(!0);break}rt.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:lt.length,index:N}),$++}}else $++}return yt();function st(mt){lt.push(mt),nt=N}function ct(mt){var St=0;if(mt!==-1){var bt=P.substring($+1,mt);bt&&bt.trim()===""&&(St=bt.length)}return St}function yt(mt){return F||(mt===void 0&&(mt=P.substring(N)),G.push(mt),N=E,st(G),at&&ft()),pt()}function dt(mt){N=mt,st(G),G=[],K=P.indexOf(H,N)}function pt(mt){return{data:lt,errors:rt,meta:{delimiter:A,linebreak:H,aborted:Q,truncated:!!mt,cursor:nt+(et||0)}}}function ft(){T(pt()),lt=[],rt=[]}},this.abort=function(){Q=!0},this.getCharIndex=function(){return N}}function m(b){var l=b.data,A=u[l.workerId],H=!1;if(l.error)A.userError(l.error,l.file);else if(l.results&&l.results.data){var p={abort:function(){H=!0,C(l.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:D,resume:D};if(L(A.userStep)){for(var T=0;T<l.results.data.length&&(A.userStep({data:l.results.data[T],errors:l.results.errors,meta:l.results.meta},p),!H);T++);delete l.results}else L(A.userChunk)&&(A.userChunk(l.results,p,l.file),delete l.results)}l.finished&&!H&&C(l.workerId,l.results)}function C(b,l){var A=u[b];L(A.userComplete)&&A.userComplete(l),A.terminate(),delete u[b]}function D(){throw new Error("Not implemented.")}function I(b){if(typeof b!="object"||b===null)return b;var l=Array.isArray(b)?[]:{};for(var A in b)l[A]=I(b[A]);return l}function W(b,l){return function(){b.apply(l,arguments)}}function L(b){return typeof b=="function"}return a&&(k.onmessage=function(b){var l=b.data;if(n.WORKER_ID===void 0&&l&&(n.WORKER_ID=l.workerId),typeof l.input=="string")k.postMessage({workerId:n.WORKER_ID,results:n.parse(l.input,l.config),finished:!0});else if(k.File&&l.input instanceof File||l.input instanceof Object){var A=n.parse(l.input,l.config);A&&k.postMessage({workerId:n.WORKER_ID,results:A,finished:!0})}}),(v.prototype=Object.create(x.prototype)).constructor=v,(w.prototype=Object.create(x.prototype)).constructor=w,(o.prototype=Object.create(o.prototype)).constructor=o,(y.prototype=Object.create(x.prototype)).constructor=y,n})})(_e);var Ze=_e.exports;const $e=pe(Ze),He="//worker.statsboxd.eu.org/";function Ke(R){let O,r;return O=new de({props:{data:R[1],year:""}}),{c(){ce(O.$$.fragment)},m(k,d){qt(O,k,d),r=!0},p(k,d){const a={};d&2&&(a.data=k[1]),O.$set(a)},i(k){r||(Ct(O.$$.fragment,k),r=!0)},o(k){It(O.$$.fragment,k),r=!1},d(k){Yt(O,k)}}}function qe(R){let O,r=R[1].message+"",k;return{c(){O=gt("p"),k=Rt(r)},m(d,a){xt(d,O,a),wt(O,k)},p(d,a){a&2&&r!==(r=d[1].message+"")&&Kt(k,r)},i:vt,o:vt,d(d){d&&kt(O)}}}function Ye(R){let O;return{c(){O=gt("p"),O.textContent="Loading"},m(r,k){xt(r,O,k)},p:vt,i:vt,o:vt,d(r){r&&kt(O)}}}function Ge(R){let O,r,k,d,a,u,i;const n=[Ye,qe,Ke],g=[];function x(v,w){return v[0]?0:v[1].message!==void 0?1:2}return a=x(R),u=g[a]=n[a](R),{c(){O=gt("input"),k=Ut(),d=gt("main"),u.c(),_t(O,"type","file"),O.hidden=r=R[0]||Object.keys(R[1]).length>1},m(v,w){xt(v,O,w),xt(v,k,w),xt(v,d,w),g[a].m(d,null),i=!0},p(v,[w]){(!i||w&3&&r!==(r=v[0]||Object.keys(v[1]).length>1))&&(O.hidden=r);let o=a;a=x(v),a===o?g[a].p(v,w):(he(),It(g[o],1,1,()=>{g[o]=null}),fe(),u=g[a],u?u.p(v,w):(u=g[a]=n[a](v),u.c()),Ct(u,1),u.m(d,null))},i(v){i||(Ct(u),i=!0)},o(v){It(u),i=!1},d(v){v&&(kt(O),kt(k),kt(d)),g[a].d()}}}function Xe(R,O,r){let k=!1,d={},a={},u;async function i(g){return await(await fetch(He+"stats",{method:"POST",headers:{"Accept-Encoding":"br"},body:JSON.stringify(g)})).json()}async function n(g,x){const w=await(await g.file(x)).async("text");return await $e.parse(w,{header:!0,skipEmptyLines:!0}).data}return Se(async()=>{const g=localStorage.getItem("stats");if(g!==null&&g!=="undefined"){r(1,d=JSON.parse(g));return}r(1,d.message="Please upload your file",d),document.querySelector('input[type="file"]').addEventListener("change",async v=>{r(0,k=!0);try{u=v.target.files[0];const w=await Me.loadAsync(u),[o,y,s]=await Promise.all([n(w,"watched.csv"),n(w,"ratings.csv"),n(w,"diary.csv")]);console.log("ok read files");const c=y.reduce((m,C)=>(m[C["Letterboxd URI"]]=C.Rating,m),{}),h=s.reduce((m,C)=>{const{Name:D,Year:I,Rewatch:W}=C,L=`${D}_${I}`;return m[L]=m[L]||[],m[L].push({date:C["Watched Date"],rewatch:W==="Yes"}),m},{});a.watched=o.map(m=>{const C=`${m.Name}_${m.Year}`;return{_id:m["Letterboxd URI"].split("/").pop(),r:parseFloat(c[m["Letterboxd URI"]])||null,d:h[C]||[]}}),console.log("ok tmpdata"),r(1,d=await i(a)),r(1,d.username="giudimax",d),localStorage.setItem("stats",JSON.stringify(d)),console.log("ok stats"),r(1,d.message=void 0,d)}catch(w){console.log(w),r(1,d.message="Error",d)}r(0,k=!1)})}),[k,d]}class Je extends Xt{constructor(O){super(),Gt(this,O,Xe,Ge,Ht,{})}}const Ve=window.location.pathname.split("/statsboxd-svelte/".replace("/",""))[1].replace("/","");Ve===""?new Je({target:document.getElementById("app")}):new je({target:document.getElementById("app")});
